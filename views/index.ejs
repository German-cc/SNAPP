<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SNAPP - Plataforma de Juegos</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="public/js/api.js"></script>
    <script src="public/js/auth.js"></script>
    <script src="public/js/ui.js"></script>
    <script src="public/js/games.js"></script>
    <script src="public/js/search.js"></script>
    <script src="public/js/notifications.js"></script>
    <script src="public/js/favorites.js"></script>
    <script src="public/js/profile.js"></script>
    <script src="public/js/game-form.js"></script>
    <script src="public/js/performance.js"></script>
    <script src="public/js/event-listeners.js"></script>
    <script src="public/js/script.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet"/>
    <link rel="shortcut icon" href="/public/img/icon.png" type="image/x-icon" />
    <style>
      :root {
        --color-white: #e8e6e3;
        --color-black: #1a1d23;
        --color-transparent: transparent;
        --bg-main-light: #e8e4f0;
        --bg-header-light: #ddd9e8;
        --bg-sidebar-light: #e4e0ed;
        --bg-card-light: #efeaf5;
        --text-primary-light: #2b2533;
        --text-secondary-light: #3d3540;
        --text-muted-light: #5a515f;
        --accent-light: #8b6fb8;
        --shadow-light: rgba(26, 29, 35, 0.12);
        --shadow-medium-light: rgba(26, 29, 35, 0.18);
        --border-light: rgba(139, 111, 184, 0.4);
        --overlay-light: rgba(26, 29, 35, 0.75);
        --notification-badge-light: linear-gradient(135deg, #e74c3c, #c0392b);
        --notification-badge-border-light: var(--bg-header-light);
        --star-color-light: #f39c12;
        --success-color-light: #27ae60;
        --warning-color-light: #f39c12;
        --error-color-light: #e74c3c;
        --info-color-light: #8b6fb8;
        --favorite-color-light: #e91e63;
        --scrollbar-track-light: rgba(139, 111, 184, 0.2);
        --scrollbar-thumb-light: #5a515f;
        --scrollbar-thumb-hover-light: #8b6fb8;
        --bg-main-dark: #151a28;
        --bg-header-dark: #1a2030;
        --bg-sidebar-dark: #17192a;
        --bg-card-dark: #1d2333;
        --text-primary-dark: #e8eaef;
        --text-secondary-dark: #c4c8d4;
        --text-muted-dark: #9aa0b0;
        --accent-dark: #9b88c4;
        --shadow-dark: rgba(0, 0, 0, 0.4);
        --shadow-medium-dark: rgba(0, 0, 0, 0.5);
        --border-dark: rgba(155, 136, 196, 0.25);
        --overlay-dark: rgba(0, 0, 0, 0.8);
        --notification-badge-dark: linear-gradient(135deg, #e74c3c, #c0392b);
        --notification-badge-border-dark: var(--bg-header-dark);
        --star-color-dark: #f39c12;
        --success-color-dark: #2ecc71;
        --warning-color-dark: #f39c12;
        --error-color-dark: #e74c3c;
        --info-color-dark: #9b88c4;
        --favorite-color-dark: #e91e63;
        --scrollbar-track-dark: rgba(155, 136, 196, 0.15);
        --scrollbar-thumb-dark: #2a303d;
        --scrollbar-thumb-hover-dark: #9b88c4;
        --overlay-blur: blur(1px);
        --border-radius: 12px;
        --border-width: 1px;
        --border-width-thick: 2px;
        --border-width-thicker: 3px;
        --transition: 0.25s ease;
        --transition-slow: 0.4s ease;
      }
      [data-theme="light"] {
        --bg-main: var(--bg-main-light);
        --bg-header: var(--bg-header-light);
        --bg-sidebar: var(--bg-sidebar-light);
        --bg-card: var(--bg-card-light);
        --text-primary: var(--text-primary-light);
        --text-secondary: var(--text-secondary-light);
        --text-muted: var(--text-muted-light);
        --accent: var(--accent-light);
        --shadow: var(--shadow-light);
        --shadow-medium: var(--shadow-medium-light);
        --border-color: var(--border-light);
        --overlay: var(--overlay-light);
        --notification-badge: var(--notification-badge-light);
        --notification-badge-border: var(--notification-badge-border-light);
        --star-color: var(--star-color-light);
        --success-color: var(--success-color-light);
        --warning-color: var(--warning-color-light);
        --error-color: var(--error-color-light);
        --info-color: var(--info-color-light);
        --favorite-color: var(--favorite-color-light);
        --scrollbar-track: var(--scrollbar-track-light);
        --scrollbar-thumb: var(--scrollbar-thumb-light);
        --scrollbar-thumb-hover: var(--scrollbar-thumb-hover-light);
        --bg-sidebar-hover: rgba(139, 111, 184, 0.18);
        --hover-overlay: rgba(139, 111, 71, 0.18);
        --glass-effect: rgba(255, 255, 255, 0.35);
        --glass-effect-hover: rgba(139, 111, 71, 0.45);
        --glass-effect-light: rgba(255, 255, 255, 0.25);
        --glass-effect-lighter: rgba(255, 255, 255, 0.12);
        --gradient-accent: linear-gradient(135deg, var(--accent), #a58560);
        --gradient-header: linear-gradient(135deg, var(--bg-header), rgba(139, 111, 71, 0.3));
        --gradient-sidebar: linear-gradient(180deg, var(--bg-sidebar),rgba(139, 111, 71, 0.25));
        --gradient-card: linear-gradient(145deg,var(--bg-card),rgba(255, 255, 255, 0.2));
        --gradient-notifications: linear-gradient(145deg,var(--bg-card),rgba(139, 111, 71, 0.75));
        --gradient-user-header: linear-gradient(135deg, var(--accent), #a58560);
        --gradient-avatar: linear-gradient(135deg, #8b6f47, #a58560);
        --shadow-small: 0 2px 8px var(--shadow);
        --shadow-medium: 0 4px 14px var(--shadow-medium);
        --shadow-large: 0 6px 18px var(--shadow-medium);
        --shadow-xlarge: 0 8px 25px var(--shadow-medium);
        --shadow-xxlarge: 0 12px 35px var(--shadow-medium);
        --shadow-button: 0 4px 12px rgba(0, 0, 0, 0.15);
        --shadow-button-hover: 0 8px 20px rgba(0, 0, 0, 0.2);
        --shadow-avatar: 0 4px 10px rgba(0, 0, 0, 0.2);
        --shadow-notification: 0 2px 10px rgba(0, 0, 0, 0.1);
      }
      [data-theme="dark"] {
        --bg-main: var(--bg-main-dark);
        --bg-header: var(--bg-header-dark);
        --bg-sidebar: var(--bg-sidebar-dark);
        --bg-card: var(--bg-card-dark);
        --text-primary: var(--text-primary-dark);
        --text-secondary: var(--text-secondary-dark);
        --text-muted: var(--text-muted-dark);
        --accent: var(--accent-dark);
        --shadow: var(--shadow-dark);
        --shadow-medium: var(--shadow-medium-dark);
        --border-color: var(--border-dark);
        --overlay: var(--overlay-dark);
        --notification-badge: var(--notification-badge-dark);
        --notification-badge-border: var(--notification-badge-border-dark);
        --star-color: var(--star-color-dark);
        --success-color: var(--success-color-dark);
        --warning-color: var(--warning-color-dark);
        --error-color: var(--error-color-dark);
        --info-color: var(--info-color-dark);
        --favorite-color: var(--favorite-color-dark);
        --scrollbar-track: var(--scrollbar-track-dark);
        --scrollbar-thumb: var(--scrollbar-thumb-dark);
        --scrollbar-thumb-hover: var(--scrollbar-thumb-hover-dark);
        --bg-sidebar-hover: rgba(155, 136, 196, 0.2);
        --glass-effect: rgba(255, 255, 255, 0.08);
        --glass-effect-hover: rgba(155, 136, 196, 0.15);
        --glass-effect-light: rgba(255, 255, 255, 0.05);
        --glass-effect-lighter: rgba(255, 255, 255, 0.08);
        --glass-effect-dark: rgba(0, 0, 0, 0.3);
        --glass-effect-darker: rgba(0, 0, 0, 0.45);
        --gradient-accent: linear-gradient(135deg, var(--accent), #7a5cb2);
        --gradient-header: linear-gradient(135deg,var(--bg-header),rgba(155, 136, 196, 0.15));
        --gradient-sidebar: linear-gradient(180deg,var(--bg-sidebar),rgba(155, 136, 196, 0.12));
        --gradient-card: linear-gradient(145deg,var(--bg-card),rgba(255, 255, 255, 0.05));
        --gradient-notifications: linear-gradient(145deg,var(--bg-card),rgba(155, 136, 196, 0.15));
        --gradient-user-header: linear-gradient(135deg, var(--accent), #7a5cb2);
        --gradient-avatar: linear-gradient(135deg, #6d5a9b, #8a75c4);
        --shadow-small: 0 2px 8px var(--shadow);
        --shadow-medium: 0 4px 14px var(--shadow-medium);
        --shadow-large: 0 6px 18px var(--shadow-medium);
        --shadow-xlarge: 0 8px 25px var(--shadow-medium);
        --shadow-xxlarge: 0 12px 35px var(--shadow-medium);
        --shadow-button: 0 4px 12px rgba(0, 0, 0, 0.3);
        --shadow-button-hover: 0 8px 20px rgba(0, 0, 0, 0.4);
        --shadow-avatar: 0 4px 10px rgba(0, 0, 0, 0.4);
        --shadow-notification: 0 2px 10px rgba(0, 0, 0, 0.3);
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      @keyframes slideDown {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      @keyframes pulse {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.1);
        }
        100% {
          transform: scale(1);
        }
      }
      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
      @keyframes slideInUp {
        from {
          transform: translateY(100%);
          opacity: 0;
        }
        to {
          transform: translateY(0);
          opacity: 1;
        }
      }
      @keyframes shake {
        0%,
        100% {
          transform: translateX(0);
        }
        25% {
          transform: translateX(-5px);
        }
        75% {
          transform: translateX(5px);
        }
      }

      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: transparent;
      }
      ::-webkit-scrollbar-thumb {
        background: var(--scrollbar-thumb);
        border-radius: 10px;
      }
      .avatar-option {
        position: relative;
        width: 100%;
        aspect-ratio: 1;
        border-radius: 50%;
        border: 2px solid var(--border-color);
        cursor: pointer;
        transition: all 0.25s ease;
        overflow: hidden;
      }
      .avatar-option:hover {
        transform: scale(1.05);
        border-color: var(--accent);
        box-shadow: 0 4px 12px rgba(130, 102, 90, 0.3);
      }
      .avatar-option.selected {
        border-color: var(--accent);
        border-width: 4px;
        box-shadow: 0 0 0 4px rgba(130, 102, 90, 0.25);
      }
      .game-card {
        position: relative;
        display: flex;
        flex-direction: column;
      }
      .game-card > div:first-child {
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0;
        left: 0;
      }
      .game-card img {
        object-fit: cover;
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0;
        left: 0;
      }
      .col-span-1.aspect-square {
        aspect-ratio: 1 / 1 !important;
        height: auto !important;
      }
      .col-span-2.aspect-\[2\/1\] {
        aspect-ratio: 2 / 1 !important;
        height: auto !important;
      }

      @media (max-width: 1024px) {
        #toggleSidebar {
          display: none !important;
        }
        .header-left {
          order: -1 !important;
          flex: 0 0 auto !important;
          margin-left: 0 !important;
        }
        .header-left .logo {
          margin-left: 0 !important;
          padding-left: 0 !important;
        }
        .mobile-fullscreen-modal {
          position: fixed !important;
          top: 0 !important;
          left: 0 !important;
          width: 100vw !important;
          height: 100vh !important;
          z-index: 9999 !important;
        }
        .search-modal-fullscreen {
          display: none !important;
          position: fixed !important;
          top: 0 !important;
          width: 100vw !important;
          height: 100vh !important;
          background: var(--bg-main) !important;
          z-index: 9999 !important;
          flex-direction: column !important;
        }
        .search-modal-fullscreen.show {
          display: flex !important;
          animation: slideInUp 0.3s ease !important;
        }
        .search-modal-header {
          position: sticky !important;
          top: 0 !important;
          background: var(--bg-header) !important;
          padding: 1rem !important;
          display: flex !important;
          gap: 0.75rem !important;
          z-index: 10 !important;
        }
        .search-modal-input {
          flex: 1 !important;
          padding: 0.75rem !important;
          border-radius: 12px !important;
          background: var(--bg-card) !important;
          border: 2px solid var(--border-color) !important;
          color: var(--text-primary) !important;
        }
        .search-modal-close-btn {
          width: 44px !important;
          height: 44px !important;
          border-radius: 50% !important;
          background: var(--glass-effect) !important;
          border: 1px solid var(--border-color) !important;
          color: var(--text-primary) !important;
          display: flex !important;
          justify-content: center !important;
          align-items: center !important;
        }
        .search-modal-body {
          flex: 1 !important;
          overflow-y: auto !important;
          padding: 1rem !important;
        }
        .search-categories-grid {
          display: grid !important;
          grid-template-columns: repeat(3, 1fr) !important;
          gap: 0.75rem !important;
        }
        .search-category-card {
          background: var(--bg-card) !important;
          border: 1px solid var(--border-color) !important;
          border-radius: 12px !important;
          padding: 1rem !important;
          display: flex !important;
          flex-direction: column !important;
          align-items: center !important;
          gap: 0.5rem !important;
          text-align: center !important;
        }
        .search-category-icon {
          font-size: 2rem !important;
          color: var(--accent) !important;
        }
        .search-category-card.active {
          background: var(--accent) !important;
          border-color: var(--accent) !important;
        }
        .search-category-card.active .search-category-icon,
        .search-category-card.active .search-category-name {
          color: white !important;
        }
        .search-results-grid {
          display: grid !important;
          grid-template-columns: repeat(3, 1fr) !important;
          gap: 0.5rem !important;
        }
      }

      @media (max-width: 480px) {
        .search-categories-grid,
        .search-results-grid {
          grid-template-columns: repeat(2, 1fr) !important;
        }
      }

      .sidebar-categories {
        scrollbar-width: thin;
        padding-right: 4px !important;
        overflow-y: auto !important;
      }
      .sidebar-categories::-webkit-scrollbar {
        width: 10px !important;
      }
      .sidebar-categories::-webkit-scrollbar-thumb {
        background-color: var(--scrollbar-thumb) !important;
        border-radius: 20px !important;
        border: 3px solid transparent !important;
        background-clip: content-box !important;
      }
      .generic-avatars-grid {
        display: grid;
        grid-template-columns: repeat(5, 1fr);
        gap: 0.75rem;
      }
      .generic-avatar-option.selected {
        border-color: var(--success-color);
        border-width: 3px;
        box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.2);
      }
      .generic-avatar-option .selected-badge {
        position: absolute;
        bottom: -2px;
        right: -2px;
        background: var(--success-color);
        color: white;
        border-radius: 50%;
        padding: 0.2rem;
        font-size: 0.7rem;
        border: 2px solid var(--bg-card);
      }

      body.performance-mode * {
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
        box-shadow: none !important;
        text-shadow: none !important;
        animation: none !important;
        transition: none !important;
        filter: none !important;
        will-change: auto !important;
      }

      body.performance-mode .glass-effect,
      body.performance-mode .glass-effect-dark,
      body.performance-mode .glass-effect-light,
      body.performance-mode .glass-effect-lighter,
      body.performance-mode .header,
      body.performance-mode .sidebar,
      body.performance-mode .auth-container,
      body.performance-mode .search-suggestions,
      body.performance-mode .notifications-panel,
      body.performance-mode .user-panel,
      body.performance-mode .create-game-form {
        background-color: var(--bg-card) !important;
        background-image: none !important;
        border: 1px solid var(--border-color) !important;
      }

      body.performance-mode .header {
        background-color: var(--bg-header) !important;
      }
      body.performance-mode .sidebar {
        background-color: var(--bg-sidebar) !important;
      }

      body.performance-mode .game-card {
        border: 1px solid var(--border-color) !important;
        background: var(--bg-card) !important;
      }
      body.performance-mode .game-card:hover {
        transform: none !important;
      }
      body.performance-mode button:hover {
        transform: none !important;
      }

      @media (max-width: 768px) {
        body.performance-mode * {
          transition-duration: 0.1s !important;
        }
      }
    </style>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: { poppins: ["Poppins", "sans-serif"] },
            transitionTimingFunction: {
              "bounce-custom": "cubic-bezier(0.175, 0.885, 0.32, 1.275)",
              custom: "cubic-bezier(0.4, 0, 0.2, 1)",
            },
          },
        },
      };
    </script>
  </head>
  <body
    class="font-poppins bg-[var(--bg-main)] text-[var(--text-primary)] min-h-screen overflow-x-hidden transition-colors duration-[0.25s] ease-[cubic-bezier(.4,0,.2,1)] text-[16px]"
  >
    <nav
      class="sidebar fixed top-[22.5px] left-0 bottom-0 w-[72px] bg-clip-padding border-l-[5px] border-transparent flex flex-col items-center z-[1100] transition-all duration-400 ease-[cubic-bezier(0.4,0,0.2,1)] shadow-[2px_0_8px_var(--shadow)] backdrop-blur-[10px] border-r border-[var(--border-color)] group hover:w-[230px] hover:items-start max-[1024px]:w-[280px] max-[1024px]:-translate-x-full"
      id="sidebar"
    >
      <button
        id="sidebarToggle"
        class="bg-transparent border-none rounded-full w-[44px] h-[44px] flex items-center justify-center cursor-pointer transition-colors duration-[0.25s] text-[var(--accent)] my-[10px] text-[1.2rem] hover:bg-[var(--bg-sidebar-hover)] max-[1024px]:hidden"
        title="Categorías"
      >
        <i class="fas fa-bars"></i>
      </button>
      <div
        class="sidebar-categories mt-[10px] w-full flex flex-col gap-[8px] flex-[1_1_auto] overflow-y-auto pb-[16px]"
      >
        <button
          class="sidebar-category active w-full flex items-center justify-center group-hover:justify-start gap-0 group-hover:gap-[1rem] px-0 group-hover:px-[16px] py-[12px] cursor-pointer rounded-[12px] bg-transparent text-[var(--text-secondary)] text-[1rem] font-medium border-none outline-none transition-all duration-[0.25s] whitespace-nowrap hover:bg-[var(--bg-sidebar-hover)] hover:text-[var(--accent)] [&.active]:bg-[var(--accent)] [&.active]:text-[var(--color-white)]"
          data-category="Todos"
        >
          <i class="fas fa-gamepad text-[1.5rem] w-[30px] text-center"></i
          ><span
            class="hidden group-hover:block opacity-0 transition-opacity duration-[0.25s] group-hover:opacity-100"
            >Todos</span
          ></button
        ><button
          class="sidebar-category w-full flex items-center justify-center group-hover:justify-start gap-0 group-hover:gap-[1rem] px-0 group-hover:px-[16px] py-[12px] cursor-pointer rounded-[12px] bg-transparent text-[var(--text-secondary)] text-[1rem] font-medium border-none outline-none transition-all duration-[0.25s] whitespace-nowrap hover:bg-[var(--bg-sidebar-hover)] hover:text-[var(--accent)] [&.active]:bg-[var(--accent)] [&.active]:text-[var(--color-white)]"
          data-category="Aventura"
        >
          <i class="fas fa-mountain text-[1.5rem] w-[30px] text-center"></i
          ><span
            class="hidden group-hover:block opacity-0 transition-opacity duration-[0.25s] group-hover:opacity-100"
            >Aventura</span
          ></button
        ><button
          class="sidebar-category w-full flex items-center justify-center group-hover:justify-start gap-0 group-hover:gap-[1rem] px-0 group-hover:px-[16px] py-[12px] cursor-pointer rounded-[12px] bg-transparent text-[var(--text-secondary)] text-[1rem] font-medium border-none outline-none transition-all duration-[0.25s] whitespace-nowrap hover:bg-[var(--bg-sidebar-hover)] hover:text-[var(--accent)] [&.active]:bg-[var(--accent)] [&.active]:text-[var(--color-white)]"
          data-category="Puzzle"
        >
          <i class="fas fa-puzzle-piece text-[1.5rem] w-[30px] text-center"></i
          ><span
            class="hidden group-hover:block opacity-0 transition-opacity duration-[0.25s] group-hover:opacity-100"
            >Puzzle</span
          ></button
        ><button
          class="sidebar-category w-full flex items-center justify-center group-hover:justify-start gap-0 group-hover:gap-[1rem] px-0 group-hover:px-[16px] py-[12px] cursor-pointer rounded-[12px] bg-transparent text-[var(--text-secondary)] text-[1rem] font-medium border-none outline-none transition-all duration-[0.25s] whitespace-nowrap hover:bg-[var(--bg-sidebar-hover)] hover:text-[var(--accent)] [&.active]:bg-[var(--accent)] [&.active]:text-[var(--color-white)]"
          data-category="Deportes"
        >
          <i class="fas fa-running text-[1.5rem] w-[30px] text-center"></i
          ><span
            class="hidden group-hover:block opacity-0 transition-opacity duration-[0.25s] group-hover:opacity-100"
            >Deportes</span
          ></button
        ><button
          class="sidebar-category w-full flex items-center justify-center group-hover:justify-start gap-0 group-hover:gap-[1rem] px-0 group-hover:px-[16px] py-[12px] cursor-pointer rounded-[12px] bg-transparent text-[var(--text-secondary)] text-[1rem] font-medium border-none outline-none transition-all duration-[0.25s] whitespace-nowrap hover:bg-[var(--bg-sidebar-hover)] hover:text-[var(--accent)] [&.active]:bg-[var(--accent)] [&.active]:text-[var(--color-white)]"
          data-category="Acción"
        >
          <i class="fas fa-fire text-[1.5rem] w-[30px] text-center"></i
          ><span
            class="hidden group-hover:block opacity-0 transition-opacity duration-[0.25s] group-hover:opacity-100"
            >Acción</span
          ></button
        ><button
          class="sidebar-category w-full flex items-center justify-center group-hover:justify-start gap-0 group-hover:gap-[1rem] px-0 group-hover:px-[16px] py-[12px] cursor-pointer rounded-[12px] bg-transparent text-[var(--text-secondary)] text-[1rem] font-medium border-none outline-none transition-all duration-[0.25s] whitespace-nowrap hover:bg-[var(--bg-sidebar-hover)] hover:text-[var(--accent)] [&.active]:bg-[var(--accent)] [&.active]:text-[var(--color-white)]"
          data-category="Multijugador"
        >
          <i class="fas fa-users text-[1.5rem] w-[30px] text-center"></i
          ><span
            class="hidden group-hover:block opacity-0 transition-opacity duration-[0.25s] group-hover:opacity-100"
            >Multijugador</span
          ></button
        ><button
          class="sidebar-category w-full flex items-center justify-center group-hover:justify-start gap-0 group-hover:gap-[1rem] px-0 group-hover:px-[16px] py-[12px] cursor-pointer rounded-[12px] bg-transparent text-[var(--text-secondary)] text-[1rem] font-medium border-none outline-none transition-all duration-[0.25s] whitespace-nowrap hover:bg-[var(--bg-sidebar-hover)] hover:text-[var(--accent)] [&.active]:bg-[var(--accent)] [&.active]:text-[var(--color-white)]"
          data-category="Estrategia"
        >
          <i class="fas fa-chess text-[1.5rem] w-[30px] text-center"></i
          ><span
            class="hidden group-hover:block opacity-0 transition-opacity duration-[0.25s] group-hover:opacity-100"
            >Estrategia</span
          ></button
        ><button
          class="sidebar-category w-full flex items-center justify-center group-hover:justify-start gap-0 group-hover:gap-[1rem] px-0 group-hover:px-[16px] py-[12px] cursor-pointer rounded-[12px] bg-transparent text-[var(--text-secondary)] text-[1rem] font-medium border-none outline-none transition-all duration-[0.25s] whitespace-nowrap hover:bg-[var(--bg-sidebar-hover)] hover:text-[var(--accent)] [&.active]:bg-[var(--accent)] [&.active]:text-[var(--color-white)]"
          data-category="RPG"
        >
          <i class="fas fa-dragon text-[1.5rem] w-[30px] text-center"></i
          ><span
            class="hidden group-hover:block opacity-0 transition-opacity duration-[0.25s] group-hover:opacity-100"
            >RPG</span
          ></button
        ><button
          class="sidebar-category w-full flex items-center justify-center group-hover:justify-start gap-0 group-hover:gap-[1rem] px-0 group-hover:px-[16px] py-[12px] cursor-pointer rounded-[12px] bg-transparent text-[var(--text-secondary)] text-[1rem] font-medium border-none outline-none transition-all duration-[0.25s] whitespace-nowrap hover:bg-[var(--bg-sidebar-hover)] hover:text-[var(--accent)] [&.active]:bg-[var(--accent)] [&.active]:text-[var(--color-white)]"
          data-category="Simulación"
        >
          <i class="fas fa-car text-[1.5rem] w-[30px] text-center"></i
          ><span
            class="hidden group-hover:block opacity-0 transition-opacity duration-[0.25s] group-hover:opacity-100"
            >Simulación</span
          ></button
        ><button
          class="sidebar-category w-full flex items-center justify-center group-hover:justify-start gap-0 group-hover:gap-[1rem] px-0 group-hover:px-[16px] py-[12px] cursor-pointer rounded-[12px] bg-transparent text-[var(--text-secondary)] text-[1rem] font-medium border-none outline-none transition-all duration-[0.25s] whitespace-nowrap hover:bg-[var(--bg-sidebar-hover)] hover:text-[var(--accent)] [&.active]:bg-[var(--accent)] [&.active]:text-[var(--color-white)]"
          data-category="Carreras"
        >
          <i
            class="fas fa-flag-checkered text-[1.5rem] w-[30px] text-center"
          ></i
          ><span
            class="hidden group-hover:block opacity-0 transition-opacity duration-[0.25s] group-hover:opacity-100"
            >Carreras</span
          ></button
        ><button
          class="sidebar-category w-full flex items-center justify-center group-hover:justify-start gap-0 group-hover:gap-[1rem] px-0 group-hover:px-[16px] py-[12px] cursor-pointer rounded-[12px] bg-transparent text-[var(--text-secondary)] text-[1rem] font-medium border-none outline-none transition-all duration-[0.25s] whitespace-nowrap hover:bg-[var(--bg-sidebar-hover)] hover:text-[var(--accent)] [&.active]:bg-[var(--accent)] [&.active]:text-[var(--color-white)]"
          data-category="Terror"
        >
          <i class="fas fa-ghost text-[1.5rem] w-[30px] text-center"></i
          ><span
            class="hidden group-hover:block opacity-0 transition-opacity duration-[0.25s] group-hover:opacity-100"
            >Terror</span
          ></button
        ><button
          class="sidebar-category w-full flex items-center justify-center group-hover:justify-start gap-0 group-hover:gap-[1rem] px-0 group-hover:px-[16px] py-[12px] cursor-pointer rounded-[12px] bg-transparent text-[var(--text-secondary)] text-[1rem] font-medium border-none outline-none transition-all duration-[0.25s] whitespace-nowrap hover:bg-[var(--bg-sidebar-hover)] hover:text-[var(--accent)] [&.active]:bg-[var(--accent)] [&.active]:text-[var(--color-white)]"
          data-category="Plataformas"
        >
          <i class="fas fa-shoe-prints text-[1.5rem] w-[30px] text-center"></i
          ><span
            class="hidden group-hover:block opacity-0 transition-opacity duration-[0.25s] group-hover:opacity-100"
            >Plataformas</span
          ></button
        ><button
          class="sidebar-category w-full flex items-center justify-center group-hover:justify-start gap-0 group-hover:gap-[1rem] px-0 group-hover:px-[16px] py-[12px] cursor-pointer rounded-[12px] bg-transparent text-[var(--text-secondary)] text-[1rem] font-medium border-none outline-none transition-all duration-[0.25s] whitespace-nowrap hover:bg-[var(--bg-sidebar-hover)] hover:text-[var(--accent)] [&.active]:bg-[var(--accent)] [&.active]:text-[var(--color-white)]"
          data-category="Disparos"
        >
          <i class="fas fa-crosshairs text-[1.5rem] w-[30px] text-center"></i
          ><span
            class="hidden group-hover:block opacity-0 transition-opacity duration-[0.25s] group-hover:opacity-100"
            >Disparos</span
          ></button
        ><button
          class="sidebar-category w-full flex items-center justify-center group-hover:justify-start gap-0 group-hover:gap-[1rem] px-0 group-hover:px-[16px] py-[12px] cursor-pointer rounded-[12px] bg-transparent text-[var(--text-secondary)] text-[1rem] font-medium border-none outline-none transition-all duration-[0.25s] whitespace-nowrap hover:bg-[var(--bg-sidebar-hover)] hover:text-[var(--accent)] [&.active]:bg-[var(--accent)] [&.active]:text-[var(--color-white)]"
          data-category="Lucha"
        >
          <i class="fas fa-hand-fist text-[1.5rem] w-[30px] text-center"></i
          ><span
            class="hidden group-hover:block opacity-0 transition-opacity duration-[0.25s] group-hover:opacity-100"
            >Lucha</span
          ></button
        ><button
          class="sidebar-category w-full flex items-center justify-center group-hover:justify-start gap-0 group-hover:gap-[1rem] px-0 group-hover:px-[16px] py-[12px] cursor-pointer rounded-[12px] bg-transparent text-[var(--text-secondary)] text-[1rem] font-medium border-none outline-none transition-all duration-[0.25s] whitespace-nowrap hover:bg-[var(--bg-sidebar-hover)] hover:text-[var(--accent)] [&.active]:bg-[var(--accent)] [&.active]:text-[var(--color-white)]"
          data-category="Musical"
        >
          <i class="fas fa-music text-[1.5rem] w-[30px] text-center"></i
          ><span
            class="hidden group-hover:block opacity-0 transition-opacity duration-[0.25s] group-hover:opacity-100"
            >Musical</span
          ></button
        ><button
          class="sidebar-category w-full flex items-center justify-center group-hover:justify-start gap-0 group-hover:gap-[1rem] px-0 group-hover:px-[16px] py-[12px] cursor-pointer rounded-[12px] bg-transparent text-[var(--text-secondary)] text-[1rem] font-medium border-none outline-none transition-all duration-[0.25s] whitespace-nowrap hover:bg-[var(--bg-sidebar-hover)] hover:text-[var(--accent)] [&.active]:bg-[var(--accent)] [&.active]:text-[var(--color-white)]"
          data-category="Educativo"
        >
          <i
            class="fas fa-graduation-cap text-[1.5rem] w-[30px] text-center"
          ></i
          ><span
            class="hidden group-hover:block opacity-0 transition-opacity duration-[0.25s] group-hover:opacity-100"
            >Educativo</span
          ></button
        ><button
          class="sidebar-category w-full flex items-center justify-center group-hover:justify-start gap-0 group-hover:gap-[1rem] px-0 group-hover:px-[16px] py-[12px] cursor-pointer rounded-[12px] bg-transparent text-[var(--text-secondary)] text-[1rem] font-medium border-none outline-none transition-all duration-[0.25s] whitespace-nowrap hover:bg-[var(--bg-sidebar-hover)] hover:text-[var(--accent)] [&.active]:bg-[var(--accent)] [&.active]:text-[var(--color-white)]"
          data-category="Arcade"
        >
          <i class="fas fa-gamepad text-[1.5rem] w-[30px] text-center"></i
          ><span
            class="hidden group-hover:block opacity-0 transition-opacity duration-[0.25s] group-hover:opacity-100"
            >Arcade</span
          ></button
        ><button
          class="sidebar-category w-full flex items-center justify-center group-hover:justify-start gap-0 group-hover:gap-[1rem] px-0 group-hover:px-[16px] py-[12px] cursor-pointer rounded-[12px] bg-transparent text-[var(--text-secondary)] text-[1rem] font-medium border-none outline-none transition-all duration-[0.25s] whitespace-nowrap hover:bg-[var(--bg-sidebar-hover)] hover:text-[var(--accent)] [&.active]:bg-[var(--accent)] [&.active]:text-[var(--color-white)]"
          data-category="Survival"
        >
          <i class="fas fa-campground text-[1.5rem] w-[30px] text-center"></i
          ><span
            class="hidden group-hover:block opacity-0 transition-opacity duration-[0.25s] group-hover:opacity-100"
            >Survival</span
          ></button
        ><button
          class="sidebar-category w-full flex items-center justify-center group-hover:justify-start gap-0 group-hover:gap-[1rem] px-0 group-hover:px-[16px] py-[12px] cursor-pointer rounded-[12px] bg-transparent text-[var(--text-secondary)] text-[1rem] font-medium border-none outline-none transition-all duration-[0.25s] whitespace-nowrap hover:bg-[var(--bg-sidebar-hover)] hover:text-[var(--accent)] [&.active]:bg-[var(--accent)] [&.active]:text-[var(--color-white)]"
          data-category="Mundo Abierto"
        >
          <i class="fas fa-globe text-[1.5rem] w-[30px] text-center"></i
          ><span
            class="hidden group-hover:block opacity-0 transition-opacity duration-[0.25s] group-hover:opacity-100"
            >Mundo Abierto</span
          ></button
        ><button
          class="sidebar-category w-full flex items-center justify-center group-hover:justify-start gap-0 group-hover:gap-[1rem] px-0 group-hover:px-[16px] py-[12px] cursor-pointer rounded-[12px] bg-transparent text-[var(--text-secondary)] text-[1rem] font-medium border-none outline-none transition-all duration-[0.25s] whitespace-nowrap hover:bg-[var(--bg-sidebar-hover)] hover:text-[var(--accent)] [&.active]:bg-[var(--accent)] [&.active]:text-[var(--color-white)]"
          data-category="VR"
        >
          <i class="fas fa-vr-cardboard text-[1.5rem] w-[30px] text-center"></i
          ><span
            class="hidden group-hover:block opacity-0 transition-opacity duration-[0.25s] group-hover:opacity-100"
            >VR</span
          >
        </button>
      </div>
    </nav>

    <header
      class="header fixed top-0 left-0 right-0 h-[70px] bg-[image:var(--gradient-header)] flex items-center justify-between px-[1.5rem] shadow-[var(--shadow-small)] z-[2000] backdrop-blur-[10px] border-b border-[var(--border-color)] max-[1024px]:flex-wrap max-[1024px]:h-auto max-[1024px]:min-h-[64px] max-[1024px]:px-[1rem] max-[400px]:px-[0.5rem]"
    >
      <button
        id="toggleSidebar"
        class="bg-transparent border-none rounded-full w-[44px] h-[44px] flex items-center justify-center cursor-pointer transition-colors duration-[0.25s] text-[var(--accent)] z-[2001] text-[1.2rem] -ml-[6px] order-0 hover:bg-[var(--bg-sidebar-hover)]"
        title="Mostrar/Ocultar categorías"
        aria-label="Mostrar/Ocultar categorías"
      >
        <i class="fas fa-bars"></i>
      </button>

      <div
        class="header-left flex items-center gap-0 h-full flex-1 justify-start max-[1024px]:order-[-1]"
      >
        <a href="/" style="text-decoration: none"
          ><div
            class="logo flex items-center gap-[0.8rem] text-[1.5rem] font-bold text-[var(--accent)] tracking-[1px] select-none whitespace-nowrap ml-[1rem] p-[0.5rem] rounded-[12px] group max-[768px]:text-[1.2rem] max-[1024px]:ml-0"
            tabindex="0"
          >
            <img
              src="/public/img/icon.png"
              alt="Logo"
              class="h-[65px] transition-transform duration-300 ease-out drop-shadow-[0_2px_4px_rgba(0,0,0,0.2)] group-hover:rotate-[10deg] max-[768px]:h-[50px]"
            /></div
        ></a>
      </div>

      <div
        class="search-bar absolute left-1/2 -translate-x-1/2 w-[40%] min-w-[300px] max-w-[600px] m-0 max-[1024px]:hidden"
        id="searchContainer"
      >
        <div class="search-wrapper relative w-full">
          <input
            type="text"
            id="searchInput"
            placeholder="Buscar juegos y categorías"
            aria-label="Buscar juegos y categorías"
            class="w-full py-[0.75rem] px-[1.5rem] pl-[3rem] rounded-[20px] border-[var(--border-width-thick)] border-[var(--border-color)] bg-[var(--glass-effect)] text-[var(--text-primary)] text-[1.05rem] outline-none transition-all duration-[0.25s] shadow-[0_2px_4px_var(--shadow)] backdrop-blur-[10px] focus:border-[var(--accent)] focus:shadow-[0_0_0_3px_rgba(130,102,90,0.2)] focus:bg-[var(--glass-effect-lighter)] placeholder:text-[var(--text-muted)]"
          />
          <i
            class="fas fa-search absolute left-[12px] top-1/2 -translate-y-1/2 text-[var(--text-muted)] text-[1rem] z-[2]"
          ></i>
          <div
            class="search-suggestions absolute top-full left-0 right-0 bg-[var(--bg-card)] rounded-[var(--border-radius)] shadow-[var(--shadow-medium)] max-h-[400px] overflow-y-auto z-[1000] hidden mt-[4px] border border-[var(--text-muted)] [&.show]:block [&.show]:animate-[fadeIn_0.2s_ease]"
            id="searchSuggestions"
          ></div>
        </div>
      </div>

      <div
        class="header-right flex items-center gap-[0.5rem] pr-[0.5rem] ml-auto max-[1024px]:order-2"
      >
        <button
          class="icon-btn bg-[var(--glass-effect)] border border-[var(--border-color)] rounded-full w-[46px] h-[46px] hidden max-[1024px]:flex items-center justify-center cursor-pointer transition-colors duration-[0.25s] text-[var(--text-primary)] text-[1.1rem] backdrop-blur-[5px] shadow-[0_2px_8px_rgba(0,0,0,0.1)] hover:bg-[var(--glass-effect-hover)] hover:-translate-y-[2px] hover:shadow-[var(--shadow-button)] max-[400px]:w-[48px] max-[400px]:h-[48px]"
          id="mobileSearchBtn"
          aria-label="Buscar"
          title="Buscar"
        >
          <i class="fas fa-search"></i>
        </button>
        <button
          class="icon-btn bg-[var(--glass-effect)] border border-[var(--border-color)] rounded-full w-[46px] h-[46px] flex items-center justify-center cursor-pointer transition-colors duration-[0.25s] text-[var(--text-primary)] text-[1.1rem] backdrop-blur-[5px] shadow-[0_2px_8px_rgba(0,0,0,0.1)] hover:bg-[var(--glass-effect-hover)] hover:-translate-y-[2px] hover:shadow-[var(--shadow-button)] max-[400px]:w-[48px] max-[400px]:h-[48px] max-[1024px]:hidden"
          id="createGameBtn"
          aria-label="Crear juego"
          title="Crear juego"
        >
          <i class="fas fa-plus"></i>
        </button>
        <button
          class="icon-btn bg-[var(--glass-effect)] border border-[var(--border-color)] rounded-full w-[46px] h-[46px] flex items-center justify-center cursor-pointer transition-colors duration-[0.25s] text-[var(--text-primary)] text-[1.1rem] backdrop-blur-[5px] shadow-[0_2px_8px_rgba(0,0,0,0.1)] hover:bg-[var(--glass-effect-hover)] hover:-translate-y-[2px] hover:shadow-[var(--shadow-button)] max-[400px]:w-[48px] max-[400px]:h-[48px] relative"
          id="notificationsBtn"
          aria-label="Notificaciones"
          title="Notificaciones"
        >
          <i class="fas fa-bell"></i>
          <span
            class="notification-badge absolute -top-[5px] -right-[5px] bg-[image:var(--notification-badge)] text-[var(--color-white)] rounded-full w-[20px] h-[20px] text-[0.7rem] font-bold flex items-center justify-center shadow-[var(--shadow-notification)] border-[var(--border-width-thick)] border-[var(--notification-badge-border)] animate-[pulse_2s_infinite] [&.hidden]:hidden"
            id="notificationBadge"
            >0</span
          >
        </button>
        <button
          class="icon-btn bg-[var(--glass-effect)] border border-[var(--border-color)] rounded-full w-[46px] h-[46px] flex items-center justify-center cursor-pointer transition-colors duration-[0.25s] text-[var(--text-primary)] text-[1.1rem] backdrop-blur-[5px] shadow-[0_2px_8px_rgba(0,0,0,0.1)] hover:bg-[var(--glass-effect-hover)] hover:-translate-y-[2px] hover:shadow-[var(--shadow-button)] max-[400px]:w-[48px] max-[400px]:h-[48px] [&.user-logged-in]:p-0 [&.user-logged-in]:overflow-hidden [&.user-logged-in_img]:w-full [&.user-logged-in_img]:h-full [&_img]:w-[32px] [&_img]:h-[32px] [&_img]:rounded-full [&_img]:object-cover [&_img]:border-[var(--border-width-thick)] [&_img]:border-[var(--accent)]"
          id="userBtn"
          aria-label="Usuario"
          title="Usuario"
        >
          <i class="fas fa-user"></i>
        </button>
      </div>
    </header>
    <div class="search-modal-fullscreen" id="mobileSearchModal">
      <div class="search-modal-header">
        <input
          type="text"
          id="mobileSearchInput"
          placeholder="Buscar juegos..."
          class="search-modal-input"
          aria-label="Buscar juegos"
        />
        <button
          class="search-modal-close-btn"
          id="closeMobileSearch"
          aria-label="Cerrar búsqueda"
        >
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="search-modal-body" id="mobileSearchBody">
        <div id="mobileSearchCategories" class="search-categories-grid"></div>
        <div
          id="mobileSearchResults"
          class="search-results-grid"
          style="display: none"
        ></div>
      </div>
    </div>
    <main
      class="main-content ml-[73px] mt-[74px] p-[1rem] w-[calc(100vw-90px)] box-border flex flex-col items-center transition-all duration-[0.4s] ease-[cubic-bezier(0.4,0,0.2,1)] min-h-[calc(100vh-10000px)] overflow-hidden [&.sidebar-hidden]:ml-0 [&.sidebar-hidden]:w-full max-[1024px]:mt-[5px] max-[1024px]:ml-0 max-[1024px]:p-[80px_1rem_4rem_1rem] max-[1024px]:w-full max-[400px]:p-[80px_1rem_5rem_1rem]"
      id="mainContent"
    >
      <div
        class="games-grid grid grid-cols-12 gap-[0.8rem] w-full max-w-[1800px] mx-auto mb-[2rem] max-[1024px]:grid-cols-[repeat(auto-fill,minmax(140px,1fr))] max-[768px]:grid-cols-[repeat(auto-fill,minmax(120px,1fr))] max-[400px]:grid-cols-[repeat(auto-fill,minmax(100px,1fr))]"
        id="gamesGrid"
      ></div>
      <div
        class="bottom-buttons fixed bottom-[20px] left-0 right-0 w-full max-w-[1800px] mx-auto flex justify-center gap-[1rem] px-[1.5rem] box-border z-[1000] max-[1024px]:my-[50px] max-[1024px]:mx-auto max-[1024px]:relative max-[1024px]:p-[0_1rem_2rem] max-[1024px]:flex-col max-[1024px]:items-center max-[1024px]:opacity-100 max-[1024px]:w-full group-[.sidebar-hidden]:max-w-full group-[.sidebar-hidden]:px-[1rem] group-[.sidebar-hidden]:pb-[2rem]"
      >
        <button
          id="randomGameBtn"
          class="btn btn-primary px-[1.5rem] py-[0.75rem] rounded-[var(--border-radius)] border-none font-medium cursor-pointer transition-all duration-[0.25s] inline-flex items-center gap-[0.5rem] font-poppins bg-[image:var(--gradient-accent)] text-[var(--color-white)] text-[1.1rem] rounded-[50px] shadow-[var(--shadow-button)] opacity-95 hover:transform hover:-translate-y-[5px] hover:scale-105 hover:opacity-100 hover:shadow-[var(--shadow-button-hover)] max-[1024px]:w-full max-[1024px]:max-w-[260px] max-[1024px]:opacity-100 disabled:opacity-60 disabled:cursor-not-allowed"
        >
          <i class="fas fa-random text-[0.9em]"></i> Juego random
        </button>
        <button
          id="backToTopBtn"
          class="btn btn-secondary px-[1.5rem] py-[0.75rem] rounded-[var(--border-radius)] font-medium cursor-pointer transition-all duration-[0.25s] inline-flex items-center gap-[0.5rem] font-poppins bg-[var(--bg-card)] text-[var(--text-primary)] border border-[var(--text-muted)] text-[1.1rem] rounded-[50px] shadow-[var(--shadow-button)] opacity-95 hover:bg-[var(--bg-sidebar-hover)] hover:transform hover:-translate-y-[5px] hover:scale-105 hover:opacity-100 hover:shadow-[var(--shadow-button-hover)] max-[1024px]:w-full max-[1024px]:max-w-[260px] max-[1024px]:opacity-100"
        >
          <i class="fas fa-arrow-up text-[0.9em]"></i> Volver arriba
        </button>
      </div>
    </main>
    <div
      class="notifications-panel hidden fixed top-[75px] right-[20px] bg-[image:var(--gradient-notifications)] rounded-[var(--border-radius)] shadow-[var(--shadow-xlarge)] w-[350px] max-h-[calc(100vh-100px)] overflow-y-auto z-[2001] border border-[var(--text-muted)] backdrop-blur-[10px] animate-[slideDown_0.3s_ease] [&.show]:block max-[1024px]:w-[300px] max-[1024px]:right-[10px] max-[1024px]:top-[70px] max-[1024px]:max-h-[calc(100vh-90px)] max-[768px]:w-full max-[768px]:h-screen max-[768px]:max-h-none max-[768px]:right-0 max-[768px]:top-0 max-[768px]:rounded-none max-[768px]:border-0"
      id="notificationsPanel"
    >
      <div
        class="notifications-header p-[1.2rem] border-b border-[var(--text-muted)] flex justify-between items-center bg-[var(--bg-main)] rounded-t-[var(--border-radius)] max-[768px]:sticky max-[768px]:top-0 max-[768px]:z-10 max-[768px]:backdrop-blur-[10px] max-[768px]:rounded-none"
      >
        <h3
          class="m-0 text-[var(--accent)] text-[1.2rem] flex items-center gap-[0.5rem]"
        >
          <i class="fas fa-bell"></i> Notificaciones
        </h3>
        <div class="notifications-actions flex gap-[0.5rem]">
          <button
            class="icon-btn bg-[var(--glass-effect)] border border-[var(--border-color)] rounded-full w-[46px] h-[46px] flex items-center justify-center cursor-pointer transition-colors duration-[0.25s] text-[var(--text-primary)] text-[1.1rem] backdrop-blur-[5px] shadow-[0_2px_8px_rgba(0,0,0,0.1)] hover:bg-[var(--glass-effect-hover)] hover:-translate-y-[2px] hover:shadow-[var(--shadow-button)] max-[768px]:w-[40px] max-[768px]:h-[40px]"
            id="markAllReadBtn"
            title="Marcar todas como leídas"
          >
            <i class="fas fa-check-double"></i>
          </button>
          <button
            class="icon-btn bg-[var(--glass-effect)] border border-[var(--border-color)] rounded-full w-[46px] h-[46px] flex items-center justify-center cursor-pointer transition-colors duration-[0.25s] text-[var(--text-primary)] text-[1.1rem] backdrop-blur-[5px] shadow-[0_2px_8px_rgba(0,0,0,0.1)] hover:bg-[var(--glass-effect-hover)] hover:-translate-y-[2px] hover:shadow-[var(--shadow-button)] max-[768px]:w-[40px] max-[768px]:h-[40px]"
            id="clearNotificationsBtn"
            title="Limpiar todas"
          >
            <i class="fas fa-trash"></i>
          </button>
          <button
            class="icon-btn bg-[var(--glass-effect)] border border-[var(--border-color)] rounded-full w-[46px] h-[46px] hidden max-[768px]:flex items-center justify-center cursor-pointer transition-colors duration-[0.25s] text-[var(--text-primary)] text-[1.1rem] backdrop-blur-[5px] shadow-[0_2px_8px_rgba(0,0,0,0.1)] hover:bg-[var(--glass-effect-hover)] hover:-translate-y-[2px] hover:shadow-[var(--shadow-button)] max-[768px]:w-[40px] max-[768px]:h-[40px]"
            id="closeNotificationsPanel"
            title="Cerrar"
          >
            <i class="fas fa-times"></i>
          </button>
        </div>
      </div>
      <div
        class="notifications-list max-h-[400px] overflow-y-auto max-[768px]:max-h-none max-[768px]:h-[calc(100vh-80px)]"
        id="notificationsList"
      ></div>
    </div>
    <div
      class="create-game-container hidden fixed inset-0 bg-[var(--overlay)] z-[3000] items-center justify-center p-[1rem] overflow-y-auto backdrop-blur-[5px] [&.show]:flex [&.show]:animate-[fadeIn_0.3s_ease] max-[1024px]:p-0"
      id="createGameContainer"
    >
      <div
        class="create-game-form bg-[image:var(--gradient-notifications)] rounded-[var(--border-radius)] shadow-[var(--shadow-xxlarge)] w-full max-w-[900px] max-h-[90vh] overflow-y-auto p-[2rem] relative backdrop-blur-[15px] border-[var(--border-width-thick)] border-[var(--border-color)] max-[768px]:p-[1.5rem] max-[1024px]:max-w-none max-[1024px]:max-h-none max-[1024px]:h-screen max-[1024px]:rounded-none max-[1024px]:border-0"
      >
        <h2
          class="mb-[1.5rem] text-[var(--accent)] flex justify-between items-center text-[1.8rem] max-[1024px]:sticky max-[1024px]:top-0 max-[1024px]:bg-[var(--bg-header)] max-[1024px]:backdrop-blur-[10px] max-[1024px]:-mx-[1.5rem] max-[1024px]:px-[1.5rem] max-[1024px]:py-[1rem] max-[1024px]:mb-[1rem] max-[1024px]:z-10 max-[1024px]:border-b max-[1024px]:border-[var(--border-color)]"
        >
          <span
            ><i class="fas fa-gamepad mr-[0.5rem]"></i> Crear Nuevo Juego</span
          >
          <button
            type="button"
            class="icon-btn close-create-game bg-transparent border-none text-[var(--text-muted)] text-[1.5rem] cursor-pointer transition-colors duration-200 hover:text-[var(--accent)] max-[1024px]:bg-[var(--glass-effect)] max-[1024px]:rounded-full max-[1024px]:w-[44px] max-[1024px]:h-[44px] max-[1024px]:flex max-[1024px]:items-center max-[1024px]:justify-center max-[1024px]:border max-[1024px]:border-[var(--border-color)]"
            id="closeCreateGame"
            aria-label="Cerrar"
            title="Cerrar"
          >
            <i class="fas fa-times"></i>
          </button>
        </h2>
        <form id="gameForm" enctype="multipart/form-data">
          <fieldset
            class="form-section block animate-[slideIn_0.3s_ease] mb-[2rem] p-[1.5rem] border border-[var(--border-color)] rounded-[15px] bg-[var(--glass-effect-light)] transition-all duration-[0.25s] hover:bg-[var(--glass-effect-lighter)] hover:border-[var(--accent)] hover:shadow-[0_8px_20px_rgba(130,102,90,0.15)] [&.highlight-error]:border-[var(--error-color)] [&.highlight-error]:animate-[shake_0.5s_ease-in-out]"
          >
            <legend
              class="px-[1rem] font-semibold text-[var(--accent)] text-[1.1rem] mb-[1rem] flex items-center gap-[0.5rem]"
            >
              <i class="fas fa-info-circle"></i> Información Básica
            </legend>
            <div class="form-group mb-[1.5rem]">
              <label
                for="gameTitle"
                class="flex items-center gap-[0.5rem] mb-[0.5rem] font-medium text-[var(--text-primary)]"
              >
                <i class="fas fa-heading text-[var(--accent)]"></i> Título del
                Juego *
              </label>
              <input
                type="text"
                id="gameTitle"
                name="game_title"
                required
                placeholder="Ej: Super Aventura Pixel"
                maxlength="100"
                class="w-full p-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] bg-[var(--bg-card)] text-[var(--text-primary)] font-poppins transition-all duration-[0.25s] focus:outline-none focus:border-[var(--accent)] focus:shadow-[0_0_0_2px_var(--accent)]"
              />
              <small
                class="form-hint block text-[0.8rem] text-[var(--text-muted)] mt-[0.3rem]"
                >Máximo 100 caracteres</small
              >
            </div>
            <div class="form-group mb-[1.5rem]">
              <label
                for="gameDescription"
                class="flex items-center gap-[0.5rem] mb-[0.5rem] font-medium text-[var(--text-primary)]"
              >
                <i class="fas fa-align-left text-[var(--accent)]"></i>
                Descripción *
              </label>
              <textarea
                id="gameDescription"
                name="game_description"
                rows="4"
                required
                placeholder="Describe tu juego: género, mecánicas, historia..."
                maxlength="500"
                class="w-full p-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] bg-[var(--bg-card)] text-[var(--text-primary)] font-poppins transition-all duration-[0.25s] focus:outline-none focus:border-[var(--accent)] focus:shadow-[0_0_0_2px_var(--accent)] resize-y min-h-[80px]"
              ></textarea>
              <small
                class="form-hint block text-[0.8rem] text-[var(--text-muted)] mt-[0.3rem]"
                ><span id="descCharCount">0</span>/500 caracteres</small
              >
            </div>
            <div class="form-row flex gap-[1rem] mb-[1rem]">
              <div class="form-group half flex-1">
                <label
                  for="gameCategory"
                  class="flex items-center gap-[0.5rem] mb-[0.5rem] font-medium text-[var(--text-primary)]"
                >
                  <i class="fas fa-tags text-[var(--accent)]"></i> Categoría
                  Principal *
                </label>
                <select
                  id="gameCategory"
                  name="game_category"
                  required
                  class="w-full p-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] bg-[var(--bg-card)] text-[var(--text-primary)] font-poppins transition-all duration-[0.25s] focus:outline-none focus:border-[var(--accent)] focus:shadow-[0_0_0_2px_var(--accent)]"
                >
                  <option value="">Selecciona una categoría</option>
                  <option value="Aventura">Aventura</option>
                  <option value="Puzzle">Puzzle</option>
                  <option value="Deportes">Deportes</option>
                  <option value="Acción">Acción</option>
                  <option value="Multijugador">Multijugador</option>
                  <option value="Estrategia">Estrategia</option>
                  <option value="RPG">RPG</option>
                  <option value="Simulación">Simulación</option>
                  <option value="Carreras">Carreras</option>
                  <option value="Terror">Terror</option>
                  <option value="Plataformas">Plataformas</option>
                  <option value="Disparos">Disparos</option>
                  <option value="Lucha">Lucha</option>
                  <option value="Musical">Musical</option>
                  <option value="Educativo">Educativo</option>
                  <option value="Arcade">Arcade</option>
                  <option value="Survival">Survival</option>
                  <option value="Mundo Abierto">Mundo Abierto</option>
                  <option value="VR">VR</option>
                </select>
              </div>
              <div class="form-group half flex-1">
                <label
                  for="gameDifficulty"
                  class="flex items-center gap-[0.5rem] mb-[0.5rem] font-medium text-[var(--text-primary)]"
                >
                  <i class="fas fa-signal text-[var(--accent)]"></i> Dificultad
                </label>
                <select
                  id="gameDifficulty"
                  name="game_difficulty"
                  class="w-full p-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] bg-[var(--bg-card)] text-[var(--text-primary)] font-poppins transition-all duration-[0.25s] focus:outline-none focus:border-[var(--accent)] focus:shadow-[0_0_0_2px_var(--accent)]"
                >
                  <option value="Fácil">Fácil</option>
                  <option value="Medio">Medio</option>
                  <option value="Difícil">Difícil</option>
                  <option value="Experto">Experto</option>
                </select>
              </div>
            </div>
          </fieldset>
          <fieldset
            class="form-section block animate-[slideIn_0.3s_ease] mb-[2rem] p-[1.5rem] border border-[var(--border-color)] rounded-[15px] bg-[var(--glass-effect-light)] transition-all duration-[0.25s] hover:bg-[var(--glass-effect-lighter)] hover:border-[var(--accent)] hover:shadow-[0_8px_20px_rgba(130,102,90,0.15)]"
          >
            <legend
              class="px-[1rem] font-semibold text-[var(--accent)] text-[1.1rem] mb-[1rem] flex items-center gap-[0.5rem]"
            >
              <i class="fas fa-link"></i> Enlaces del Juego
            </legend>
            <div class="form-group mb-[1.5rem]">
              <label
                for="gameLink"
                class="flex items-center gap-[0.5rem] mb-[0.5rem] font-medium text-[var(--text-primary)]"
              >
                <i class="fas fa-external-link-alt text-[var(--accent)]"></i>
                URL del Juego *
              </label>
              <input
                type="url"
                id="gameLink"
                name="game_link"
                required
                placeholder="https://ejemplo.com/mi-juego"
                class="w-full p-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] bg-[var(--bg-card)] text-[var(--text-primary)] font-poppins transition-all duration-[0.25s] focus:outline-none focus:border-[var(--accent)] focus:shadow-[0_0_0_2px_var(--accent)]"
              />
              <small
                class="form-hint block text-[0.8rem] text-[var(--text-muted)] mt-[0.3rem]"
                >Enlace directo para jugar</small
              >
            </div>
            <div class="form-group mb-[1.5rem]">
              <label
                for="gameImage"
                class="flex items-center gap-[0.5rem] mb-[0.5rem] font-medium text-[var(--text-primary)]"
              >
                <i class="fas fa-image text-[var(--accent)]"></i> URL de la
                Imagen *
              </label>
              <input
                type="url"
                id="gameImage"
                name="game_image"
                required
                placeholder="https://ejemplo.com/imagen.jpg"
                class="w-full p-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] bg-[var(--bg-card)] text-[var(--text-primary)] font-poppins transition-all duration-[0.25s] focus:outline-none focus:border-[var(--accent)] focus:shadow-[0_0_0_2px_var(--accent)]"
              />
              <small
                class="form-hint block text-[0.8rem] text-[var(--text-muted)] mt-[0.3rem]"
                >Imagen de portada (recomendado: 16:9)</small
              >
            </div>
            <div
              class="image-preview w-full h-[200px] border-2 border-dashed border-[var(--text-muted)] rounded-[var(--border-radius)] flex items-center justify-center overflow-hidden bg-[var(--bg-main)]"
              id="imagePreview"
              style="display: none"
            >
              <img
                id="previewImg"
                alt="Vista previa"
                class="max-w-full max-h-full object-contain"
              />
            </div>
          </fieldset>
          <fieldset
            class="form-section block animate-[slideIn_0.3s_ease] mb-[2rem] p-[1.5rem] border border-[var(--border-color)] rounded-[15px] bg-[var(--glass-effect-light)] transition-all duration-[0.25s] hover:bg-[var(--glass-effect-lighter)] hover:border-[var(--accent)] hover:shadow-[0_8px_20px_rgba(130,102,90,0.15)]"
          >
            <legend
              class="px-[1rem] font-semibold text-[var(--accent)] text-[1.1rem] mb-[1rem] flex items-center gap-[0.5rem]"
            >
              <i class="fas fa-cogs"></i> Características Técnicas
            </legend>
            <div class="form-row flex gap-[1rem] mb-[1rem]">
              <div class="form-group half flex-1">
                <label
                  for="gamePlayers"
                  class="flex items-center gap-[0.5rem] mb-[0.5rem] font-medium text-[var(--text-primary)]"
                >
                  <i class="fas fa-users text-[var(--accent)]"></i> Jugadores
                </label>
                <input
                  type="text"
                  id="gamePlayers"
                  name="game_players"
                  placeholder="Ej: 1-4 jugadores, Solo, Multijugador"
                  class="w-full p-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] bg-[var(--bg-card)] text-[var(--text-primary)] font-poppins transition-all duration-[0.25s] focus:outline-none focus:border-[var(--accent)] focus:shadow-[0_0_0_2px_var(--accent)]"
                />
              </div>
              <div class="form-group half flex-1">
                <label
                  for="gameDuration"
                  class="flex items-center gap-[0.5rem] mb-[0.5rem] font-medium text-[var(--text-primary)]"
                >
                  <i class="fas fa-clock text-[var(--accent)]"></i> Duración
                </label>
                <input
                  type="text"
                  id="gameDuration"
                  name="game_duration"
                  placeholder="Ej: 30 min, 2-4 horas"
                  class="w-full p-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] bg-[var(--bg-card)] text-[var(--text-primary)] font-poppins transition-all duration-[0.25s] focus:outline-none focus:border-[var(--accent)] focus:shadow-[0_0_0_2px_var(--accent)]"
                />
              </div>
            </div>
            <div class="form-group mb-[1.5rem]">
              <label
                for="gamePlatform"
                class="flex items-center gap-[0.5rem] mb-[0.5rem] font-medium text-[var(--text-primary)]"
              >
                <i class="fas fa-desktop text-[var(--accent)]"></i> Plataforma
              </label>
              <select
                id="gamePlatform"
                name="game_platform"
                class="w-full p-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] bg-[var(--bg-card)] text-[var(--text-primary)] font-poppins transition-all duration-[0.25s] focus:outline-none focus:border-[var(--accent)] focus:shadow-[0_0_0_2px_var(--accent)]"
              >
                <option value="Web">Web (Navegador)</option>
                <option value="Windows">Windows</option>
                <option value="Mac">Mac</option>
                <option value="Linux">Linux</option>
                <option value="Android">Android</option>
                <option value="iOS">iOS</option>
                <option value="Multiplataforma">Multiplataforma</option>
              </select>
            </div>
            <div class="form-group mb-[1.5rem]">
              <label
                for="gameEngine"
                class="flex items-center gap-[0.5rem] mb-[0.5rem] font-medium text-[var(--text-primary)]"
              >
                <i class="fas fa-code text-[var(--accent)]"></i>
                Motor/Tecnología
              </label>
              <input
                type="text"
                id="gameEngine"
                name="game_engine"
                placeholder="Ej: Unity, Unreal, Godot, HTML5, etc."
                class="w-full p-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] bg-[var(--bg-card)] text-[var(--text-primary)] font-poppins transition-all duration-[0.25s] focus:outline-none focus:border-[var(--accent)] focus:shadow-[0_0_0_2px_var(--accent)]"
              />
            </div>
          </fieldset>
          <fieldset
            class="form-section block animate-[slideIn_0.3s_ease] mb-[2rem] p-[1.5rem] border border-[var(--border-color)] rounded-[15px] bg-[var(--glass-effect-light)] transition-all duration-[0.25s] hover:bg-[var(--glass-effect-lighter)] hover:border-[var(--accent)] hover:shadow-[0_8px_20px_rgba(130,102,90,0.15)]"
          >
            <legend
              class="px-[1rem] font-semibold text-[var(--accent)] text-[1.1rem] mb-[1rem] flex items-center gap-[0.5rem]"
            >
              <i class="fas fa-tag"></i> Etiquetas y Clasificación
            </legend>
            <div class="form-group mb-[1.5rem]">
              <label
                for="gameTags"
                class="flex items-center gap-[0.5rem] mb-[0.5rem] font-medium text-[var(--text-primary)]"
              >
                <i class="fas fa-hashtag text-[var(--accent)]"></i> Etiquetas
              </label>
              <input
                type="text"
                id="gameTags"
                name="game_tags"
                placeholder="Ej: retro, pixel-art, indie, cooperativo"
                class="w-full p-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] bg-[var(--bg-card)] text-[var(--text-primary)] font-poppins transition-all duration-[0.25s] focus:outline-none focus:border-[var(--accent)] focus:shadow-[0_0_0_2px_var(--accent)]"
              />
              <small
                class="form-hint block text-[0.8rem] text-[var(--text-muted)] mt-[0.3rem]"
                >Separa con comas para mejor búsqueda</small
              >
            </div>
            <div class="form-group mb-[1.5rem]">
              <label
                for="gameRating"
                class="flex items-center gap-[0.5rem] mb-[0.5rem] font-medium text-[var(--text-primary)]"
              >
                <i class="fas fa-star text-[var(--accent)]"></i> Clasificación
                por edad
              </label>
              <select
                id="gameRating"
                name="game_rating"
                class="w-full p-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] bg-[var(--bg-card)] text-[var(--text-primary)] font-poppins transition-all duration-[0.25s] focus:outline-none focus:border-[var(--accent)] focus:shadow-[0_0_0_2px_var(--accent)]"
              >
                <option value="Todas las edades">Todas las edades</option>
                <option value="+7">+7 años</option>
                <option value="+12">+12 años</option>
                <option value="+16">+16 años</option>
                <option value="+18">+18 años (Adultos)</option>
              </select>
            </div>
            <div class="form-group mb-[1.5rem]">
              <label
                class="checkbox-label flex items-center gap-[0.5rem] cursor-pointer px-[1rem] py-[0.5rem] rounded-[var(--border-radius)] bg-[var(--bg-card)] transition-all duration-[0.25s] flex-1 min-w-[120px] hover:bg-[var(--bg-sidebar-hover)]"
              >
                <input
                  type="checkbox"
                  id="gameMultiplayer"
                  name="game_multiplayer"
                  class="w-[16px] h-[16px] accent-[var(--accent)]"
                />
                <span class="flex-1">Multijugador</span>
              </label>
            </div>
          </fieldset>
          <fieldset
            class="form-section block animate-[slideIn_0.3s_ease] mb-[2rem] p-[1.5rem] border border-[var(--border-color)] rounded-[15px] bg-[var(--glass-effect-light)] transition-all duration-[0.25s] hover:bg-[var(--glass-effect-lighter)] hover:border-[var(--accent)] hover:shadow-[0_8px_20px_rgba(130,102,90,0.15)]"
          >
            <legend
              class="px-[1rem] font-semibold text-[var(--accent)] text-[1.1rem] mb-[1rem] flex items-center gap-[0.5rem]"
            >
              <i class="fas fa-list"></i> Información Adicional
            </legend>
            <div class="form-group mb-[1.5rem]">
              <label
                for="gameControls"
                class="flex items-center gap-[0.5rem] mb-[0.5rem] font-medium text-[var(--text-primary)]"
              >
                <i class="fas fa-gamepad text-[var(--accent)]"></i> Controles
              </label>
              <textarea
                id="gameControls"
                name="game_controls"
                rows="3"
                placeholder="Describe los controles: teclado, ratón, táctil, etc."
                class="w-full p-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] bg-[var(--bg-card)] text-[var(--text-primary)] font-poppins transition-all duration-[0.25s] focus:outline-none focus:border-[var(--accent)] focus:shadow-[0_0_0_2px_var(--accent)] resize-y min-h-[80px]"
              ></textarea>
            </div>
            <div class="form-group mb-[1.5rem]">
              <label
                for="gameFeatures"
                class="flex items-center gap-[0.5rem] mb-[0.5rem] font-medium text-[var(--text-primary)]"
              >
                <i class="fas fa-check-circle text-[var(--accent)]"></i>
                Características destacadas
              </label>
              <textarea
                id="gameFeatures"
                name="game_features"
                rows="3"
                placeholder="Ej: Gráficos 3D, Sistema de logros, Modo historia, etc."
                class="w-full p-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] bg-[var(--bg-card)] text-[var(--text-primary)] font-poppins transition-all duration-[0.25s] focus:outline-none focus:border-[var(--accent)] focus:shadow-[0_0_0_2px_var(--accent)] resize-y min-h-[80px]"
              ></textarea>
            </div>
            <div class="form-group mb-[1.5rem]">
              <label
                for="gameLanguages"
                class="flex items-center gap-[0.5rem] mb-[0.5rem] font-medium text-[var(--text-primary)]"
              >
                <i class="fas fa-language text-[var(--accent)]"></i> Idiomas
                disponibles
              </label>
              <input
                type="text"
                id="gameLanguages"
                name="game_languages"
                placeholder="Ej: Español, Inglés, Francés"
                class="w-full p-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] bg-[var(--bg-card)] text-[var(--text-primary)] font-poppins transition-all duration-[0.25s] focus:outline-none focus:border-[var(--accent)] focus:shadow-[0_0_0_2px_var(--accent)]"
              />
            </div>
          </fieldset>
          <fieldset
            class="form-section block animate-[slideIn_0.3s_ease] mb-[2rem] p-[1.5rem] border border-[var(--border-color)] rounded-[15px] bg-[var(--glass-effect-light)] transition-all duration-[0.25s] hover:bg-[var(--glass-effect-lighter)] hover:border-[var(--accent)] hover:shadow-[0_8px_20px_rgba(130,102,90,0.15)]"
          >
            <legend
              class="px-[1rem] font-semibold text-[var(--accent)] text-[1.1rem] mb-[1rem] flex items-center gap-[0.5rem]"
            >
              <i class="fas fa-book"></i> Recursos y Referencias
            </legend>
            <div class="form-group mb-[1.5rem]">
              <label
                for="gameTrailer"
                class="flex items-center gap-[0.5rem] mb-[0.5rem] font-medium text-[var(--text-primary)]"
              >
                <i class="fab fa-youtube text-[var(--accent)]"></i>
                Trailer/Video (YouTube)
              </label>
              <input
                type="url"
                id="gameTrailer"
                name="game_trailer"
                placeholder="https://youtube.com/watch?v=..."
                class="w-full p-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] bg-[var(--bg-card)] text-[var(--text-primary)] font-poppins transition-all duration-[0.25s] focus:outline-none focus:border-[var(--accent)] focus:shadow-[0_0_0_2px_var(--accent)]"
              />
            </div>
            <div class="form-group mb-[1.5rem]">
              <label
                for="gameWebsite"
                class="flex items-center gap-[0.5rem] mb-[0.5rem] font-medium text-[var(--text-primary)]"
              >
                <i class="fas fa-globe text-[var(--accent)]"></i> Sitio web
                oficial
              </label>
              <input
                type="url"
                id="gameWebsite"
                name="game_website"
                placeholder="https://tusitio.com"
                class="w-full p-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] bg-[var(--bg-card)] text-[var(--text-primary)] font-poppins transition-all duration-[0.25s] focus:outline-none focus:border-[var(--accent)] focus:shadow-[0_0_0_2px_var(--accent)]"
              />
            </div>
            <div class="form-group mb-[1.5rem]">
              <label
                for="gameSource"
                class="flex items-center gap-[0.5rem] mb-[0.5rem] font-medium text-[var(--text-primary)]"
              >
                <i class="fab fa-github text-[var(--accent)]"></i> Código fuente
                (opcional)
              </label>
              <input
                type="url"
                id="gameSource"
                name="game_source"
                placeholder="https://github.com/usuario/proyecto"
                class="w-full p-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] bg-[var(--bg-card)] text-[var(--text-primary)] font-poppins transition-all duration-[0.25s] focus:outline-none focus:border-[var(--accent)] focus:shadow-[0_0_0_2px_var(--accent)]"
              />
            </div>
          </fieldset>
          <fieldset
            class="form-section block animate-[slideIn_0.3s_ease] mb-[2rem] p-[1.5rem] border border-[var(--border-color)] rounded-[15px] bg-[var(--glass-effect-light)] transition-all duration-[0.25s] hover:bg-[var(--glass-effect-lighter)] hover:border-[var(--accent)] hover:shadow-[0_8px_20px_rgba(130,102,90,0.15)]"
          >
            <legend
              class="px-[1rem] font-semibold text-[var(--accent)] text-[1.1rem] mb-[1rem] flex items-center gap-[0.5rem]"
            >
              <i class="fas fa-user"></i> Información del Creador
            </legend>
            <div class="form-group mb-[1.5rem]">
              <label
                for="creatorName"
                class="flex items-center gap-[0.5rem] mb-[0.5rem] font-medium text-[var(--text-primary)]"
              >
                <i class="fas fa-signature text-[var(--accent)]"></i> Nombre o
                Alias
              </label>
              <input
                type="text"
                id="creatorName"
                name="creator_name"
                placeholder="Tu nombre o nombre del estudio"
                class="w-full p-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] bg-[var(--bg-card)] text-[var(--text-primary)] font-poppins transition-all duration-[0.25s] focus:outline-none focus:border-[var(--accent)] focus:shadow-[0_0_0_2px_var(--accent)]"
              />
            </div>
            <div class="form-group mb-[1.5rem]">
              <label
                for="creatorEmail"
                class="flex items-center gap-[0.5rem] mb-[0.5rem] font-medium text-[var(--text-primary)]"
              >
                <i class="fas fa-envelope text-[var(--accent)]"></i> Email de
                contacto
              </label>
              <input
                type="email"
                id="creatorEmail"
                name="creator_email"
                placeholder="contacto@ejemplo.com"
                class="w-full p-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] bg-[var(--bg-card)] text-[var(--text-primary)] font-poppins transition-all duration-[0.25s] focus:outline-none focus:border-[var(--accent)] focus:shadow-[0_0_0_2px_var(--accent)]"
              />
            </div>
            <div class="form-group mb-[1.5rem]">
              <label
                for="creatorSocial"
                class="flex items-center gap-[0.5rem] mb-[0.5rem] font-medium text-[var(--text-primary)]"
              >
                <i class="fas fa-share-alt text-[var(--accent)]"></i> Redes
                sociales
              </label>
              <input
                type="text"
                id="creatorSocial"
                name="creator_social"
                placeholder="@tuusuario (Twitter, GitHub, etc.)"
                class="w-full p-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] bg-[var(--bg-card)] text-[var(--text-primary)] font-poppins transition-all duration-[0.25s] focus:outline-none focus:border-[var(--accent)] focus:shadow-[0_0_0_2px_var(--accent)]"
              />
            </div>
          </fieldset>
          <fieldset
            class="form-section block animate-[slideIn_0.3s_ease] mb-[2rem] p-[1.5rem] border border-[var(--border-color)] rounded-[15px] bg-[var(--glass-effect-light)] transition-all duration-[0.25s] hover:bg-[var(--glass-effect-lighter)] hover:border-[var(--accent)] hover:shadow-[0_8px_20px_rgba(130,102,90,0.15)]"
          >
            <legend
              class="px-[1rem] font-semibold text-[var(--accent)] text-[1.1rem] mb-[1rem] flex items-center gap-[0.5rem]"
            >
              <i class="fas fa-balance-scale"></i> Licencia y Términos
            </legend>
            <div class="form-group mb-[1.5rem]">
              <label
                for="gameLicense"
                class="flex items-center gap-[0.5rem] mb-[0.5rem] font-medium text-[var(--text-primary)]"
              >
                <i class="fas fa-gavel text-[var(--accent)]"></i> Tipo de
                Licencia
              </label>
              <select
                id="gameLicense"
                name="game_license"
                class="w-full p-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] bg-[var(--bg-card)] text-[var(--text-primary)] font-poppins transition-all duration-[0.25s] focus:outline-none focus:border-[var(--accent)] focus:shadow-[0_0_0_2px_var(--accent)]"
              >
                <option value="Gratis">Gratis</option>
                <option value="Freemium">Freemium</option>
                <option value="Demo">Demo</option>
                <option value="Open Source">Open Source</option>
                <option value="Comercial">Comercial</option>
              </select>
            </div>
            <div class="form-group mb-[1.5rem]">
              <label
                class="checkbox-label flex items-center gap-[0.5rem] cursor-pointer px-[1rem] py-[0.5rem] rounded-[var(--border-radius)] bg-[var(--bg-card)] transition-all duration-[0.25s] flex-1 min-w-[120px] hover:bg-[var(--bg-sidebar-hover)]"
              >
                <input
                  type="checkbox"
                  id="termsAccepted"
                  name="terms_accepted"
                  required
                  class="w-[16px] h-[16px] accent-[var(--accent)]"
                />
                <span class="flex-1"
                  >Acepto los
                  <a
                    href="#"
                    class="terms-link text-[var(--accent)] no-underline hover:underline"
                    >términos y condiciones</a
                  >
                  y confirmo que soy el creador o tengo permiso para publicar
                  este juego.</span
                >
              </label>
            </div>
            <div class="form-group mb-[1.5rem]">
              <label
                class="checkbox-label flex items-center gap-[0.5rem] cursor-pointer px-[1rem] py-[0.5rem] rounded-[var(--border-radius)] bg-[var(--bg-card)] transition-all duration-[0.25s] flex-1 min-w-[120px] hover:bg-[var(--bg-sidebar-hover)]"
              >
                <input
                  type="checkbox"
                  id="privacyAccepted"
                  name="privacy_accepted"
                  required
                  class="w-[16px] h-[16px] accent-[var(--accent)]"
                />
                <span class="flex-1"
                  >Acepto la
                  <a
                    href="#"
                    class="terms-link text-[var(--accent)] no-underline hover:underline"
                    >política de privacidad</a
                  >
                  y entiendo que los datos serán procesados según la normativa
                  aplicable.</span
                >
              </label>
            </div>
          </fieldset>
          <div
            class="form-actions flex justify-end gap-[1rem] mt-[2rem] max-[768px]:flex-col"
          >
            <button
              type="button"
              class="btn btn-secondary px-[1.5rem] py-[0.75rem] rounded-[var(--border-radius)] font-medium cursor-pointer transition-all duration-[0.25s] inline-flex items-center gap-[0.5rem] font-poppins bg-[var(--bg-card)] text-[var(--text-primary)] border border-[var(--text-muted)] hover:bg-[var(--bg-sidebar-hover)] max-[768px]:w-full"
              id="cancelCreateGame"
            >
              <i class="fas fa-times text-[0.9em]"></i> Cancelar
            </button>
            <button
              type="button"
              class="btn btn-info px-[1.5rem] py-[0.75rem] rounded-[var(--border-radius)] border-none font-medium cursor-pointer transition-all duration-[0.25s] inline-flex items-center gap-[0.5rem] font-poppins bg-[var(--info-color)] text-[var(--color-white)] hover:bg-[#2563eb] max-[768px]:w-full"
              id="previewGame"
            >
              <i class="fas fa-eye text-[0.9em]"></i> Vista Previa
            </button>
            <button
              type="submit"
              class="btn btn-primary px-[1.5rem] py-[0.75rem] rounded-[var(--border-radius)] border-none font-medium cursor-pointer transition-all duration-[0.25s] inline-flex items-center gap-[0.5rem] font-poppins bg-[image:var(--gradient-accent)] text-[var(--color-white)] hover:opacity-90 hover:-translate-y-[2px] hover:shadow-[0_4px_12px_rgba(0,0,0,0.2)] disabled:opacity-60 disabled:cursor-not-allowed max-[768px]:w-full"
              id="submitGame"
            >
              <i class="fas fa-paper-plane text-[0.9em]"></i> Enviar Juego
            </button>
          </div>
          <div
            class="form-progress mt-[1.5rem] p-[1rem] bg-[var(--bg-main)] rounded-[var(--border-radius)] hidden"
            style="display: none"
          >
            <div
              class="progress-bar w-full h-[8px] bg-[var(--text-muted)] rounded-[4px] overflow-hidden mb-[0.5rem]"
            >
              <div
                class="progress-fill w-0 h-full bg-[var(--accent)] rounded-[4px] transition-[width] duration-300 ease-linear"
              ></div>
            </div>
            <div
              class="progress-text text-center text-[0.9rem] text-[var(--text-secondary)]"
            >
              Enviando...
            </div>
          </div>
        </form>
      </div>
    </div>
    <div
      class="user-panel hidden fixed top-[75px] right-[20px] bg-[image:var(--gradient-notifications)] rounded-[20px] shadow-[0_15px_35px_rgba(0,0,0,0.2)] w-[330px] max-h-[calc(100vh-100px)] overflow-hidden z-[2000] border-[var(--border-width-thick)] border-[var(--border-color)] backdrop-blur-[15px] animate-[slideDown_0.3s_ease] [&.show]:block max-[1024px]:w-[300px] max-[1024px]:right-[10px] max-[1024px]:top-[70px] max-[1024px]:max-h-[calc(100vh-90px)] max-[768px]:w-full max-[768px]:h-screen max-[768px]:max-h-none max-[768px]:right-0 max-[768px]:top-0 max-[768px]:rounded-none max-[768px]:border-0"
      id="userPanel"
    >
      <div
        class="overflow-y-auto max-h-[calc(100vh-100px)] max-[1024px]:max-h-[calc(100vh-90px)] max-[768px]:max-h-none max-[768px]:h-screen"
      >
        <div
          class="user-header p-[1.5rem] border-b-0 mb-[1rem] relative bg-[image:var(--gradient-user-header)] text-[var(--color-white)] max-[768px]:sticky max-[768px]:top-0 max-[768px]:z-10 max-[768px]:backdrop-blur-[10px] max-[768px]:border-b max-[768px]:border-[var(--border-color)]"
        >
          <button
            class="close-user-panel absolute top-[1rem] right-[1rem] bg-[var(--glass-effect)] border border-[var(--border-color)] rounded-full w-[44px] h-[44px] flex items-center justify-center cursor-pointer transition-all duration-[0.25s] text-[var(--color-white)] text-[1.2rem] backdrop-blur-[5px] shadow-[0_2px_8px_rgba(0,0,0,0.1)] hover:bg-[var(--glass-effect-hover)] hover:-translate-y-[2px] hover:shadow-[var(--shadow-button)] hover:scale-110 max-[768px]:top-[3rem] max-[768px]:w-[40px] max-[768px]:h-[40px]"
            id="closeUserPanel"
          >
            <i class="fas fa-times"></i>
          </button>
          <div class="flex items-center gap-[1rem] mb-[1rem]">
            <div
              class="user-avatar w-[70px] h-[70px] rounded-full bg-[image:var(--gradient-avatar)] flex items-center justify-center text-[var(--accent)] text-[1.5rem] shadow-[var(--shadow-avatar)] border-[var(--border-width-thicker)] border-[var(--color-white)] transition-transform duration-300 overflow-hidden hover:scale-105"
              id="userAvatar"
            >
              <i class="fas fa-user"></i>
            </div>
            <div class="user-info flex-1">
              <div
                class="user-name font-semibold text-[1.2rem] text-[var(--color-white)]"
                id="userName"
              ></div>
              <small
                class="user-username text-[rgba(255,255,255,0.9)] text-[0.85rem] block mt-[0.2rem]"
                id="userUsername"
              ></small>
            </div>
          </div>
          <div class="user-email-section mt-[0.5rem] pl-[0.5rem]">
            <small
              class="user-email text-[rgba(255,255,255,0.8)] text-[0.85rem] flex items-center gap-[0.5rem]"
            >
              <i class="fas fa-envelope text-[0.75rem]"></i>
              <span id="userEmail"></span>
            </small>
          </div>
        </div>
        <div
          class="user-stats flex justify-around p-[1rem] border-b border-[var(--border-color)] m-[1rem] bg-[var(--glass-effect-light)] rounded-[12px] border"
        >
          <div
            class="stat-item flex flex-col items-center gap-[0.3rem] text-[0.9rem] text-[var(--text-secondary)]"
          >
            <i class="fas fa-heart text-[var(--accent)] text-[1.2rem]"></i>
            <span
              class="font-semibold text-[var(--text-primary)] text-[1.1rem]"
              id="userFavoritesCount"
              >0</span
            >
            Favoritos
          </div>
          <div
            class="stat-item flex flex-col items-center gap-[0.3rem] text-[0.9rem] text-[var(--text-secondary)]"
          >
            <i class="fas fa-gamepad text-[var(--accent)] text-[1.2rem]"></i>
            <span
              class="font-semibold text-[var(--text-primary)] text-[1.1rem]"
              id="userGamesCount"
              >0</span
            >
            Juegos
          </div>
        </div>

        <ul class="user-menu list-none p-0 m-0">
          <li
            id="favoritesBtn"
            class="p-[0.75rem_1.5rem] cursor-pointer transition-all duration-200 flex items-center rounded-[6px] m-[0_0.5rem_0.3rem] hover:bg-[var(--bg-sidebar-hover)] hover:text-[var(--accent)]"
          >
            <i class="fas fa-heart w-[24px] text-center mr-[0.75rem]"></i> Mis
            favoritos
          </li>
          <li
            id="editProfileBtn"
            class="p-[0.75rem_1.5rem] cursor-pointer transition-all duration-200 flex items-center rounded-[6px] m-[0_0.5rem_0.3rem] hover:bg-[var(--bg-sidebar-hover)] hover:text-[var(--accent)]"
          >
            <i class="fas fa-user-edit w-[24px] text-center mr-[0.75rem]"></i>
            Editar perfil
          </li>
          <div
            class="border-t border-[var(--border-color)] my-[0.5rem] mx-[1rem] opacity-60"
          ></div>
          <li
            id="settingsBtn"
            class="p-[0.75rem_1.5rem] cursor-pointer transition-all duration-200 flex items-center rounded-[6px] m-[0_0.5rem_0.3rem] hover:bg-[var(--bg-sidebar-hover)] hover:text-[var(--accent)]"
          >
            <i class="fas fa-cog w-[24px] text-center mr-[0.75rem]"></i>
            Configuración
          </li>

          <li
            id="changePasswordBtn"
            class="p-[0.75rem_1.5rem] cursor-pointer transition-all duration-200 flex items-center rounded-[6px] m-[0_0.5rem_0.3rem] hover:bg-[var(--bg-sidebar-hover)] hover:text-[var(--accent)]"
          >
            <i class="fas fa-key w-[24px] text-center mr-[0.75rem]"></i> Cambiar
            contraseña
          </li>
          <li
            id="themeToggle"
            class="p-[0.75rem_1.5rem] cursor-pointer transition-all duration-200 flex items-center rounded-[6px] m-[0_0.5rem_0.3rem] hover:bg-[var(--bg-sidebar-hover)] hover:text-[var(--accent)]"
          >
            <i class="fas fa-moon w-[24px] text-center mr-[0.75rem]"></i>
            Cambiar tema
          </li>
          <li
            id="performanceToggle"
            class="p-[0.75rem_1.5rem] cursor-pointer transition-all duration-200 flex items-center justify-between rounded-[6px] m-[0_0.5rem_0.3rem] hover:bg-[var(--bg-sidebar-hover)] hover:text-[var(--accent)]"
          >
            <div class="flex items-center">
              <i
                class="fas fa-tachometer-alt w-[24px] text-center mr-[0.75rem]"
              ></i>
              Modo Rendimiento
            </div>
            <span id="perfStatusIcon" class="text-[var(--success-color)] hidden"
              ><i class="fas fa-check"></i
            ></span>
          </li>

          <div
            class="border-t border-[var(--border-color)] my-[0.5rem] mx-[1rem] opacity-60"
          ></div>

          <li
            id="contactBtn"
            class="p-[0.75rem_1.5rem] cursor-pointer transition-all duration-200 flex items-center rounded-[6px] m-[0_0.5rem_0.3rem] hover:bg-[var(--bg-sidebar-hover)] hover:text-[var(--accent)]"
          >
            <i class="fas fa-envelope w-[24px] text-center mr-[0.75rem]"></i>
            Contacto
          </li>
          <li
            id="donateBtn"
            class="p-[0.75rem_1.5rem] cursor-pointer transition-all duration-200 flex items-center rounded-[6px] m-[0_0.5rem_0.3rem] hover:bg-[var(--bg-sidebar-hover)] hover:text-[var(--accent)]"
          >
            <i class="fas fa-coffee w-[24px] text-center mr-[0.75rem]"></i>
            Donar
          </li>

          <div
            class="border-t border-[var(--border-color)] my-[0.5rem] mx-[1rem] opacity-60"
          ></div>
          <li
            id="logoutBtn"
            class="p-[0.75rem_1.5rem] cursor-pointer transition-all duration-200 flex items-center rounded-[6px] m-[0_0.5rem_0.3rem] hover:bg-[var(--bg-sidebar-hover)] hover:text-[var(--accent)]"
          >
            <i
              class="fas fa-sign-out-alt w-[24px] text-center mr-[0.75rem]"
            ></i>
            Cerrar sesión
          </li>
        </ul>

        <div
          class="favorites-section hidden mt-[1rem] border-t border-[var(--text-muted)] pt-[1rem] max-h-[400px] overflow-y-auto max-[1024px]:max-h-[300px] max-[768px]:max-h-[250px] max-[400px]:max-h-[200px]"
          id="favoritesSection"
          style="display: none"
        >
          <div
            class="favorites-header flex justify-between items-center mb-[1rem] px-[1rem]"
          >
            <h4
              class="m-0 text-[var(--accent)] text-[1rem] flex items-center gap-[0.5rem]"
            >
              <i class="fas fa-heart"></i> Mis juegos favoritos
            </h4>
            <button
              class="icon-btn small bg-[var(--glass-effect)] border border-[var(--border-color)] rounded-full w-[32px] h-[32px] text-[0.9rem] flex items-center justify-center cursor-pointer transition-colors duration-[0.25s] text-[var(--text-primary)] backdrop-blur-[5px] shadow-[0_2px_8px_rgba(0,0,0,0.1)] hover:bg-[var(--glass-effect-hover)] hover:-translate-y-[2px] hover:shadow-[var(--shadow-button)]"
              id="closeFavoritesSection"
            >
              <i class="fas fa-times"></i>
            </button>
          </div>
          <div class="favorites-list px-[0.5rem]" id="favoritesList"></div>
        </div>
      </div>
    </div>
    <div
      class="auth-modal hidden fixed inset-0 bg-[var(--overlay)] z-[3000] items-center justify-center backdrop-blur-[5px] transition-opacity duration-300 ease-out [&.show]:flex [&.show]:animate-[fadeIn_0.3s_ease] max-[768px]:p-0"
      id="authModal"
    >
      <div
        class="auth-container bg-[image:var(--gradient-notifications)] rounded-[20px] w-full max-w-[450px] max-h-[90vh] shadow-[var(--shadow-xlarge)] relative backdrop-blur-[15px] border-[var(--border-width-thick)] border-[var(--border-color)] overflow-hidden max-[768px]:max-w-none max-[768px]:h-screen max-[768px]:max-h-none max-[768px]:rounded-none max-[768px]:border-0"
      >
        <div
          class="overflow-y-auto max-h-[90vh] p-[2rem] max-[768px]:max-h-none max-[768px]:h-screen"
        >
          <button
            class="close-auth absolute top-[2rem] right-[2rem] bg-[var(--glass-effect)] border border-[var(--border-color)] text-[1.5rem] cursor-pointer text-[var(--text-primary)] transition-all duration-200 hover:bg-[var(--glass-effect-hover)] hover:transform hover:scale-110 rounded-full w-[44px] h-[44px] flex items-center justify-center z-10 max-[768px]:top-[3rem]"
            id="closeAuth"
          >
            &times;
          </button>
          <h2
            class="mb-[1.5rem] text-[var(--accent)] text-center text-[1.8rem] max-[768px]:sticky max-[768px]:top-0 max-[768px]:bg-[var(--bg-header)] max-[768px]:backdrop-blur-[10px] max-[768px]:-mx-[2rem] max-[768px]:px-[2rem] max-[768px]:py-[1rem] max-[768px]:mb-[1rem] max-[768px]:z-5 max-[768px]:border-b max-[768px]:border-[var(--border-color)]"
          >
            Autenticación
          </h2>
          <div
            class="auth-tabs flex mb-[1.5rem] bg-[var(--glass-effect-light)] rounded-[12px] p-[0.3rem] justify-center"
          >
            <div
              class="auth-tab active p-[0.8rem_1.5rem] cursor-pointer rounded-[10px] transition-all duration-300 font-medium text-[var(--text-muted)] flex-1 text-center [&.active]:bg-[var(--accent)] [&.active]:text-[var(--color-white)] [&.active]:shadow-[var(--shadow-button)]"
              data-tab="login"
            >
              Iniciar sesión
            </div>
            <div
              class="auth-tab p-[0.8rem_1.5rem] cursor-pointer rounded-[10px] transition-all duration-300 font-medium text-[var(--text-muted)] flex-1 text-center [&.active]:bg-[var(--accent)] [&.active]:text-[var(--color-white)] [&.active]:shadow-[var(--shadow-button)]"
              data-tab="register"
            >
              Registrarse
            </div>
          </div>
          <div
            class="auth-content hidden active [&.active]:block [&.active]:animate-[slideIn_0.3s_ease]"
            id="loginContent"
          >
            <form id="loginForm">
              <div class="form-group mb-[1.5rem]">
                <label
                  for="loginEmail"
                  class="flex items-center gap-[0.5rem] mb-[0.5rem] font-medium text-[var(--text-primary)]"
                  >Correo electrónico</label
                >
                <input
                  type="email"
                  id="loginEmail"
                  required
                  class="w-full p-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] bg-[var(--bg-card)] text-[var(--text-primary)] font-poppins transition-all duration-[0.25s] focus:outline-none focus:border-[var(--accent)] focus:shadow-[0_0_0_2px_var(--accent)]"
                />
              </div>
              <div class="form-group mb-[1.5rem]">
                <label
                  for="loginPassword"
                  class="flex items-center gap-[0.5rem] mb-[0.5rem] font-medium text-[var(--text-primary)]"
                  >Contraseña</label
                >
                <input
                  type="password"
                  id="loginPassword"
                  required
                  class="w-full p-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] bg-[var(--bg-card)] text-[var(--text-primary)] font-poppins transition-all duration-[0.25s] focus:outline-none focus:border-[var(--accent)] focus:shadow-[0_0_0_2px_var(--accent)]"
                />
              </div>
              <div class="form-actions flex justify-end gap-[1rem] mt-[2rem]">
                <button
                  type="submit"
                  class="btn btn-primary px-[1.5rem] py-[0.75rem] rounded-[var(--border-radius)] border-none font-medium cursor-pointer transition-all duration-[0.25s] inline-flex items-center gap-[0.5rem] font-poppins bg-[image:var(--gradient-accent)] text-[var(--color-white)] hover:opacity-90 hover:-translate-y-[2px] hover:shadow-[0_4px_12px_rgba(0,0,0,0.2)] disabled:opacity-60 disabled:cursor-not-allowed"
                >
                  Ingresar
                </button>
              </div>
            </form>
          </div>
          <div
            class="auth-content hidden active [&.active]:block [&.active]:animate-[slideIn_0.3s_ease]"
            id="registerContent"
          >
            <form id="registerFormStep1" class="register-step" data-step="1">
              <div
                class="step-indicator mb-[1.5rem] flex justify-center gap-[0.5rem]"
              >
                <div
                  class="step-dot w-[10px] h-[10px] rounded-full bg-[var(--accent)] transition-all duration-300"
                ></div>
                <div
                  class="step-dot w-[10px] h-[10px] rounded-full bg-[var(--text-muted)] opacity-30 transition-all duration-300"
                ></div>
              </div>
              <h3
                class="text-center text-[var(--text-secondary)] mb-[1.5rem] text-[0.95rem]"
              >
                Paso 1: Información básica
              </h3>
              <div class="form-group mb-[1.5rem]">
                <label
                  for="registerFirstName"
                  class="flex items-center gap-[0.5rem] mb-[0.5rem] font-medium text-[var(--text-primary)]"
                >
                  <i class="fas fa-user text-[var(--accent)]"></i> Nombre *
                </label>
                <input
                  type="text"
                  id="registerFirstName"
                  required
                  placeholder="Tu nombre"
                  class="w-full p-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] bg-[var(--bg-card)] text-[var(--text-primary)] font-poppins transition-all duration-[0.25s] focus:outline-none focus:border-[var(--accent)] focus:shadow-[0_0_0_2px_var(--accent)]"
                />
              </div>
              <div class="form-group mb-[1.5rem]">
                <label
                  for="registerLastName"
                  class="flex items-center gap-[0.5rem] mb-[0.5rem] font-medium text-[var(--text-primary)]"
                >
                  <i class="fas fa-user text-[var(--accent)]"></i> Apellido *
                </label>
                <input
                  type="text"
                  id="registerLastName"
                  required
                  placeholder="Tu apellido"
                  class="w-full p-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] bg-[var(--bg-card)] text-[var(--text-primary)] font-poppins transition-all duration-[0.25s] focus:outline-none focus:border-[var(--accent)] focus:shadow-[0_0_0_2px_var(--accent)]"
                />
              </div>
              <div class="form-group mb-[1.5rem]">
                <label
                  for="registerEmail"
                  class="flex items-center gap-[0.5rem] mb-[0.5rem] font-medium text-[var(--text-primary)]"
                >
                  <i class="fas fa-envelope text-[var(--accent)]"></i> Correo
                  electrónico *
                </label>
                <input
                  type="email"
                  id="registerEmail"
                  required
                  placeholder="tu@email.com"
                  class="w-full p-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] bg-[var(--bg-card)] text-[var(--text-primary)] font-poppins transition-all duration-[0.25s] focus:outline-none focus:border-[var(--accent)] focus:shadow-[0_0_0_2px_var(--accent)]"
                />
              </div>
              <div class="form-group mb-[1.5rem]">
                <label
                  for="registerPassword"
                  class="flex items-center gap-[0.5rem] mb-[0.5rem] font-medium text-[var(--text-primary)]"
                >
                  <i class="fas fa-lock text-[var(--accent)]"></i> Contraseña *
                </label>
                <input
                  type="password"
                  id="registerPassword"
                  required
                  placeholder="Mínimo 6 caracteres"
                  class="w-full p-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] bg-[var(--bg-card)] text-[var(--text-primary)] font-poppins transition-all duration-[0.25s] focus:outline-none focus:border-[var(--accent)] focus:shadow-[0_0_0_2px_var(--accent)]"
                />
              </div>
              <div class="form-group mb-[1.5rem]">
                <label
                  for="registerConfirmPassword"
                  class="flex items-center gap-[0.5rem] mb-[0.5rem] font-medium text-[var(--text-primary)]"
                >
                  <i class="fas fa-lock text-[var(--accent)]"></i> Confirmar
                  contraseña *
                </label>
                <input
                  type="password"
                  id="registerConfirmPassword"
                  required
                  placeholder="Repite tu contraseña"
                  class="w-full p-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] bg-[var(--bg-card)] text-[var(--text-primary)] font-poppins transition-all duration-[0.25s] focus:outline-none focus:border-[var(--accent)] focus:shadow-[0_0_0_2px_var(--accent)]"
                />
              </div>
              <div class="form-actions flex justify-end gap-[1rem] mt-[2rem]">
                <button
                  type="submit"
                  class="btn btn-primary px-[1.5rem] py-[0.75rem] rounded-[var(--border-radius)] border-none font-medium cursor-pointer transition-all duration-[0.25s] inline-flex items-center gap-[0.5rem] font-poppins bg-[image:var(--gradient-accent)] text-[var(--color-white)] hover:opacity-90 hover:-translate-y-[2px] hover:shadow-[0_4px_12px_rgba(0,0,0,0.2)] disabled:opacity-60 disabled:cursor-not-allowed"
                >
                  Continuar <i class="fas fa-arrow-right"></i>
                </button>
              </div>
            </form>
            <form
              id="registerFormStep2"
              class="register-step hidden"
              data-step="2"
            >
              <div
                class="step-indicator mb-[1.5rem] flex justify-center gap-[0.5rem]"
              >
                <div
                  class="step-dot w-[10px] h-[10px] rounded-full bg-[var(--accent)] opacity-50 transition-all duration-300"
                ></div>
                <div
                  class="step-dot w-[10px] h-[10px] rounded-full bg-[var(--accent)] transition-all duration-300"
                ></div>
              </div>
              <h3
                class="text-center text-[var(--text-secondary)] mb-[1.5rem] text-[0.95rem]"
              >
                Paso 2: Personaliza tu perfil
              </h3>
              <div class="form-group mb-[2rem]">
                <label
                  for="registerUsername"
                  class="flex items-center gap-[0.5rem] mb-[0.5rem] font-medium text-[var(--text-primary)]"
                >
                  <i class="fas fa-at text-[var(--accent)]"></i> Nombre de
                  usuario *
                </label>
                <div class="relative">
                  <span
                    class="absolute left-[0.75rem] top-1/2 -translate-y-1/2 text-[var(--text-muted)] font-medium"
                    >@</span
                  >
                  <input
                    type="text"
                    id="registerUsername"
                    required
                    placeholder="usuario"
                    pattern="[a-zA-Z0-9_]{3,20}"
                    class="w-full p-[0.75rem] pl-[2.5rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] bg-[var(--bg-card)] text-[var(--text-primary)] font-poppins transition-all duration-[0.25s] focus:outline-none focus:border-[var(--accent)] focus:shadow-[0_0_0_2px_var(--accent)]"
                  />
                </div>
                <small
                  class="text-[var(--text-muted)] text-[0.85rem] mt-[0.25rem] block"
                  >3-20 caracteres, solo letras, números y guión bajo</small
                >
              </div>
              <div class="form-group mb-[2rem]">
                <label
                  class="flex items-center gap-[0.5rem] mb-[0.75rem] font-medium text-[var(--text-primary)]"
                >
                  <i class="fas fa-image text-[var(--accent)]"></i> Selecciona
                  tu avatar *
                </label>
                <div
                  id="avatarSelectionGrid"
                  class="grid grid-cols-5 gap-[1rem] p-[0.5rem]"
                ></div>
                <input type="hidden" id="selectedAvatar" required />
              </div>
              <div
                class="form-actions flex justify-between gap-[1rem] mt-[2rem]"
              >
                <button
                  type="button"
                  id="backToStep1"
                  class="btn btn-secondary px-[1.5rem] py-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] font-medium cursor-pointer transition-all duration-[0.25s] inline-flex items-center gap-[0.5rem] font-poppins bg-transparent text-[var(--text-primary)] hover:bg-[var(--glass-effect)] hover:-translate-y-[2px]"
                >
                  <i class="fas fa-arrow-left"></i> Atrás
                </button>
                <button
                  type="submit"
                  class="btn btn-primary px-[1.5rem] py-[0.75rem] rounded-[var(--border-radius)] border-none font-medium cursor-pointer transition-all duration-[0.25s] inline-flex items-center gap-[0.5rem] font-poppins bg-[image:var(--gradient-accent)] text-[var(--color-white)] hover:opacity-90 hover:-translate-y-[2px] hover:shadow-[0_4px_12px_rgba(0,0,0,0.2)] disabled:opacity-60 disabled:cursor-not-allowed"
                >
                  <i class="fas fa-check"></i> Crear cuenta
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    <div
      class="auth-modal hidden fixed inset-0 bg-[var(--overlay)] z-[3000] items-center justify-center backdrop-blur-[5px] transition-opacity duration-300 ease-out [&.show]:flex [&.show]:animate-[fadeIn_0.3s_ease] max-[768px]:p-0"
      id="changePasswordModal"
    >
      <div
        class="auth-container bg-[image:var(--gradient-notifications)] rounded-[20px] w-full max-w-[450px] max-h-[90vh] shadow-[var(--shadow-xlarge)] relative backdrop-blur-[15px] border-[var(--border-width-thick)] border-[var(--border-color)] overflow-hidden max-[768px]:max-w-none max-[768px]:h-screen max-[768px]:max-h-none max-[768px]:rounded-none max-[768px]:border-0"
      >
        <div
          class="overflow-y-auto max-h-[90vh] p-[2rem] max-[768px]:max-h-none max-[768px]:h-screen"
        >
          <button
            class="close-auth absolute top-[2rem] right-[2rem] bg-[var(--glass-effect)] border border-[var(--border-color)] text-[1.5rem] cursor-pointer text-[var(--text-primary)] transition-all duration-200 hover:bg-[var(--glass-effect-hover)] hover:transform hover:scale-110 rounded-full w-[44px] h-[44px] flex items-center justify-center z-10 max-[768px]:top-[3rem]"
            id="closeChangePassword"
          >
            &times;
          </button>
          <h2
            class="mb-[1.5rem] text-[var(--accent)] text-center text-[1.8rem] max-[768px]:sticky max-[768px]:top-0 max-[768px]:bg-[var(--bg-header)] max-[768px]:backdrop-blur-[10px] max-[768px]:-mx-[2rem] max-[768px]:px-[2rem] max-[768px]:py-[1rem] max-[768px]:mb-[1rem] max-[768px]:z-5 max-[768px]:border-b max-[768px]:border-[var(--border-color)]"
          >
            Cambiar contraseña
          </h2>
          <form id="changePasswordForm">
            <div class="form-group mb-[1.5rem]">
              <label
                for="currentPassword"
                class="flex items-center gap-[0.5rem] mb-[0.5rem] font-medium text-[var(--text-primary)]"
                >Contraseña actual</label
              >
              <input
                type="password"
                id="currentPassword"
                required
                class="w-full p-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] bg-[var(--bg-card)] text-[var(--text-primary)] font-poppins transition-all duration-[0.25s] focus:outline-none focus:border-[var(--accent)] focus:shadow-[0_0_0_2px_var(--accent)]"
              />
            </div>
            <div class="form-group mb-[1.5rem]">
              <label
                for="newPassword"
                class="flex items-center gap-[0.5rem] mb-[0.5rem] font-medium text-[var(--text-primary)]"
                >Nueva contraseña</label
              >
              <input
                type="password"
                id="newPassword"
                required
                class="w-full p-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] bg-[var(--bg-card)] text-[var(--text-primary)] font-poppins transition-all duration-[0.25s] focus:outline-none focus:border-[var(--accent)] focus:shadow-[0_0_0_2px_var(--accent)]"
              />
            </div>
            <div class="form-group mb-[1.5rem]">
              <label
                for="confirmNewPassword"
                class="flex items-center gap-[0.5rem] mb-[0.5rem] font-medium text-[var(--text-primary)]"
                >Confirmar nueva contraseña</label
              >
              <input
                type="password"
                id="confirmNewPassword"
                required
                class="w-full p-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] bg-[var(--bg-card)] text-[var(--text-primary)] font-poppins transition-all duration-[0.25s] focus:outline-none focus:border-[var(--accent)] focus:shadow-[0_0_0_2px_var(--accent)]"
              />
            </div>
            <div class="form-actions flex justify-end gap-[1rem] mt-[2rem]">
              <button
                type="submit"
                class="btn btn-primary px-[1.5rem] py-[0.75rem] rounded-[var(--border-radius)] border-none font-medium cursor-pointer transition-all duration-[0.25s] inline-flex items-center gap-[0.5rem] font-poppins bg-[image:var(--gradient-accent)] text-[var(--color-white)] hover:opacity-90 hover:-translate-y-[2px] hover:shadow-[0_4px_12px_rgba(0,0,0,0.2)] disabled:opacity-60 disabled:cursor-not-allowed"
              >
                Cambiar contraseña
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
    <div
      class="auth-modal hidden fixed inset-0 bg-[var(--overlay)] z-[3000] items-center justify-center backdrop-blur-[5px] transition-opacity duration-300 ease-out [&.show]:flex [&.show]:animate-[fadeIn_0.3s_ease] max-[768px]:p-0"
      id="editProfileModal"
    >
      <div
        class="auth-container bg-[image:var(--gradient-notifications)] rounded-[20px] w-full max-w-[500px] max-h-[90vh] shadow-[var(--shadow-xlarge)] relative backdrop-blur-[15px] border-[var(--border-width-thick)] border-[var(--border-color)] overflow-hidden max-[768px]:max-w-none max-[768px]:h-screen max-[768px]:max-h-none max-[768px]:rounded-none max-[768px]:border-0"
      >
        <div
          class="overflow-y-auto max-h-[90vh] p-[2rem] max-[768px]:max-h-none max-[768px]:h-screen"
        >
          <button
            class="close-auth absolute top-[2rem] right-[2rem] bg-[var(--glass-effect)] border border-[var(--border-color)] text-[1.5rem] cursor-pointer text-[var(--text-primary)] transition-all duration-200 hover:bg-[var(--glass-effect-hover)] hover:transform hover:scale-110 rounded-full w-[44px] h-[44px] flex items-center justify-center z-10 max-[768px]:top-[3rem]"
            id="closeEditProfile"
          >
            &times;
          </button>
          <h2
            class="mb-[1.5rem] text-[var(--accent)] text-center text-[1.8rem] max-[768px]:sticky max-[768px]:top-0 max-[768px]:bg-[var(--bg-header)] max-[768px]:backdrop-blur-[10px] max-[768px]:-mx-[2rem] max-[768px]:px-[2rem] max-[768px]:py-[1rem] max-[768px]:mb-[1rem] max-[768px]:z-5 max-[768px]:border-b max-[768px]:border-[var(--border-color)]"
          >
            <i class="fas fa-user-edit"></i> Editar Perfil
          </h2>
          <form id="editProfileForm">
            <div class="form-group mb-[2rem]">
              <label
                class="block mb-[0.75rem] font-medium text-[var(--text-primary)] text-center"
                >Foto de perfil</label
              >
              <div
                class="profile-upload-container flex flex-col items-center gap-[1rem]"
              >
                <div
                  class="current-avatar-preview w-[120px] h-[120px] rounded-full bg-[image:var(--gradient-avatar)] flex items-center justify-center text-[var(--accent)] text-[2.5rem] shadow-[var(--shadow-large)] border-[3px] border-[var(--accent)] transition-all duration-300 overflow-hidden hover:scale-105 cursor-pointer"
                  id="editProfileAvatarPreview"
                >
                  <i class="fas fa-user" id="editProfileAvatarIcon"></i>
                  <img
                    src=""
                    alt="Avatar"
                    class="w-full h-full object-cover hidden"
                    id="editProfileAvatarImage"
                  />
                </div>
                <div
                  class="profile-dropzone w-full p-[1.5rem] border-[2px] border-dashed border-[var(--border-color)] rounded-[12px] text-center cursor-pointer transition-all duration-300 hover:border-[var(--accent)] hover:bg-[var(--glass-effect-light)] bg-[var(--bg-card)]"
                  id="profileDropzone"
                >
                  <i
                    class="fas fa-cloud-upload-alt text-[2.5rem] text-[var(--accent)] mb-[0.5rem]"
                  ></i>
                  <p
                    class="text-[var(--text-secondary)] mb-[0.5rem] text-[0.95rem]"
                  >
                    <strong class="text-[var(--accent)]"
                      >Click para seleccionar</strong
                    >
                    o arrastra una imagen aquí
                  </p>
                  <small class="text-[var(--text-muted)] text-[0.85rem]"
                    >PNG, JPG, GIF (máx. 5MB)</small
                  >
                  <input
                    type="file"
                    id="profileImageInput"
                    accept="image/*"
                    class="hidden"
                  />
                </div>
                <button
                  type="button"
                  class="btn-remove-photo hidden px-[1rem] py-[0.5rem] bg-transparent border border-[var(--error-color)] text-[var(--error-color)] rounded-[8px] text-[0.9rem] cursor-pointer transition-all duration-200 hover:bg-[var(--error-color)] hover:text-white"
                  id="removeProfilePhoto"
                >
                  <i class="fas fa-trash-alt"></i> Eliminar foto
                </button>
              </div>
              <div class="generic-avatars-section" style="margin-top: 1.5rem">
                <h4
                  style="
                    margin-bottom: 0.75rem;
                    color: var(--text-primary);
                    font-size: 0.9rem;
                    text-align: center;
                    font-weight: 500;
                  "
                >
                  O elige un avatar predefinido:
                </h4>
                <div id="genericAvatarsGrid" class="generic-avatars-grid"></div>
              </div>
            </div>
            <div class="form-group mb-[1.5rem]">
              <label
                for="editProfileUsername"
                class="flex items-center gap-[0.5rem] mb-[0.5rem] font-medium text-[var(--text-primary)]"
              >
                <i class="fas fa-at"></i> Nombre de usuario
              </label>
              <input
                type="text"
                id="editProfileUsername"
                required
                class="w-full p-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] bg-[var(--bg-card)] text-[var(--text-primary)] font-poppins transition-all duration-[0.25s] focus:outline-none focus:border-[var(--accent)] focus:shadow-[0_0_0_2px_var(--accent)]"
                placeholder="tunombredeusuario"
              />
            </div>
            <div class="form-group mb-[1.5rem]">
              <label
                for="editProfileFirstName"
                class="flex items-center gap-[0.5rem] mb-[0.5rem] font-medium text-[var(--text-primary)]"
              >
                <i class="fas fa-user"></i> Nombre
              </label>
              <input
                type="text"
                id="editProfileFirstName"
                required
                class="w-full p-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] bg-[var(--bg-card)] text-[var(--text-primary)] font-poppins transition-all duration-[0.25s] focus:outline-none focus:border-[var(--accent)] focus:shadow-[0_0_0_2px_var(--accent)]"
                placeholder="Tu nombre"
              />
            </div>
            <div class="form-group mb-[1.5rem]">
              <label
                for="editProfileLastName"
                class="flex items-center gap-[0.5rem] mb-[0.5rem] font-medium text-[var(--text-primary)]"
              >
                <i class="fas fa-user"></i> Apellido
              </label>
              <input
                type="text"
                id="editProfileLastName"
                required
                class="w-full p-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] bg-[var(--bg-card)] text-[var(--text-primary)] font-poppins transition-all duration-[0.25s] focus:outline-none focus:border-[var(--accent)] focus:shadow-[0_0_0_2px_var(--accent)]"
                placeholder="Tu apellido"
              />
            </div>
            <div class="form-group mb-[1.5rem] hidden">
              <label
                for="editProfileName"
                class="flex items-center gap-[0.5rem] mb-[0.5rem] font-medium text-[var(--text-primary)]"
              >
                <i class="fas fa-user"></i> Nombre completo
              </label>
              <input
                type="text"
                id="editProfileName"
                class="w-full p-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] bg-[var(--bg-card)] text-[var(--text-primary)] font-poppins transition-all duration-[0.25s] focus:outline-none focus:border-[var(--accent)] focus:shadow-[0_0_0_2px_var(--accent)]"
                placeholder="Tu nombre"
              />
            </div>
            <div class="form-group mb-[1.5rem]">
              <label
                for="editProfileEmail"
                class="flex items-center gap-[0.5rem] mb-[0.5rem] font-medium text-[var(--text-primary)]"
              >
                <i class="fas fa-envelope"></i> Correo electrónico
              </label>
              <input
                type="email"
                id="editProfileEmail"
                required
                class="w-full p-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] bg-[var(--bg-card)] text-[var(--text-primary)] font-poppins transition-all duration-[0.25s] focus:outline-none focus:border-[var(--accent)] focus:shadow-[0_0_0_2px_var(--accent)]"
                placeholder="tu@email.com"
              />
            </div>
            <div class="form-actions flex justify-end gap-[1rem] mt-[2rem]">
              <button type="button" class="btn btn-secondary px-[1.5rem] py-[0.75rem] rounded-[var(--border-radius)] border border-[var(--text-muted)] font-medium cursor-pointer transition-all duration-[0.25s] inline-flex items-center gap-[0.5rem] font-poppins bg-transparent text-[var(--text-primary)] hover:bg-[var(--glass-effect)] hover:-translate-y-[2px]" id="cancelEditProfile">Cancelar</button>
              <button type="submit" class="btn btn-primary px-[1.5rem] py-[0.75rem] rounded-[var(--border-radius)] border-none font-medium cursor-pointer transition-all duration-[0.25s] inline-flex items-center gap-[0.5rem] font-poppins bg-[image:var(--gradient-accent)] text-[var(--color-white)] hover:opacity-90 hover:-translate-y-[2px] hover:shadow-[0_4px_12px_rgba(0,0,0,0.2)]"><i class="fas fa-save"></i> Guardar cambios</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </body>
</html>